import{r as p,au as S,x as k,j as t,S as v,av as P,a3 as b,G as x,i as d,h as f,A as w,y as C,C as I,aw as L,ax as T,E as $,af as M}from"./vendor-580d7f6a.js";import{g as O,k as A,l as h,M as s}from"./index-539d0685.js";function U(e){const[r,a]=p.useState(""),[n,i]=p.useState(!0),o=S();return k({queryKey:["image",o,e.src],enabled:n&&e.src!=null&&e.src!=null&&e.src!="",queryFn:async()=>e.src?O.get(e.src,{responseType:"blob"}).then(l=>{switch(l.status){case 200:let c=new Blob([l.data],{type:l.headers["content-type"]}),_=URL.createObjectURL(c);a(_);break;default:a(""),i(!1);break}return l}).catch(l=>null):null,refetchOnMount:!0,refetchOnWindowFocus:!1}),t.jsx(v,{children:r&&r.length>0?t.jsx(P,{...e,src:r,withPlaceholder:!0,fit:"contain"}):t.jsx(b,{height:(e==null?void 0:e.height)??e.width,width:(e==null?void 0:e.width)??e.height})})}function R({src:e,alt:r=d._({id:"sGeXL3"}),size:a=20,text:n,align:i}){const o="/static/img/blank_image.png";return t.jsxs(x,{align:i??"left",spacing:"xs",noWrap:!0,children:[t.jsx(U,{src:e||o,alt:r,width:a,fit:"contain",radius:"xs",withPlaceholder:!0,imageProps:{style:{maxHeight:a}}}),n]})}function q({src:e,text:r,link:a="",alt:n=d._({id:"sGeXL3"}),size:i=20}){const o=p.useMemo(()=>t.jsxs(x,{position:"left",spacing:10,noWrap:!0,children:[t.jsx(R,{src:e,alt:n,size:i}),t.jsx(f,{children:r})]}),[e,r,n,i]);return a?t.jsx(w,{href:a,style:{textDecoration:"none"},children:o}):t.jsx("div",{children:o})}function ne({part:e}){return e?t.jsx(q,{src:e.thumbnail||e.image,text:e.full_name,alt:e.description,link:""}):t.jsx(b,{})}function z(e,r,a={}){let n=null,i=null;for(let l in r){let c=r[l];if(c.key==e){n=c.label,i=c.color;break}}n||console.error(`renderStatusLabel could not find match for code ${e}`),i==null&&(i="default"),i=h[i]||h.default;const o=a.size||"xs";return n||(n=e),t.jsx(C,{color:i,variant:"filled",size:o,children:n})}const m=({status:e,type:r,options:a})=>{const n=A.getState().status;if(e===void 0)return console.log("StatusRenderer: status is undefined"),null;if(n===void 0)return console.log("StatusRenderer: statusCodeList is undefined"),null;const i=n[r];return i===void 0?(console.log("StatusRenderer: statusCodes is undefined"),null):z(e,i,a)};function ie(e){return r=>r.status&&t.jsx(I,{children:m({status:r.status,type:e})})}function G({instance:e}){var r,a;return t.jsx(u,{primary:e.reference,secondary:e.title,suffix:m({status:e.status,type:s.build}),image:((r=e.part_detail)==null?void 0:r.thumbnail)||((a=e.part_detail)==null?void 0:a.image)})}function W({instance:e}){let r=[e.country,e.postal_code,e.postal_city,e.province,e.line1,e.line2].filter(Boolean).join(", ");return t.jsx(u,{primary:e.title,secondary:r})}function B({instance:e}){return t.jsx(u,{image:e.thumnbnail||e.image,primary:e.name,secondary:e.description})}function F({instance:e}){return t.jsx(u,{primary:e.name})}function X({instance:e}){let r=e.supplier_detail??{},a=e.part_detail??{};return t.jsx(u,{primary:r==null?void 0:r.name,secondary:e.SKU,image:(a==null?void 0:a.thumbnail)??(a==null?void 0:a.image),suffix:a.full_name})}function E({instance:e}){let r=e.part_detail??{},a=e.manufacturer_detail??{};return t.jsx(u,{primary:a.name,secondary:e.MPN,suffix:r.full_name,image:(a==null?void 0:a.thumnbnail)??a.image})}function H({instance:e}){return e&&t.jsx(u,{primary:e.code,secondary:e.description})}function y({instance:e}){let r=e.supplier_detail||{};return t.jsx(u,{primary:e.reference,secondary:e.description,suffix:m({status:e.status,type:s.purchaseorder}),image:r.thumnbnail||r.image})}function K({instance:e}){let r=e.customer_detail||{};return t.jsx(u,{primary:e.reference,secondary:e.description,suffix:m({status:e.status,type:s.returnorder}),image:r.thumnbnail||r.image})}function N({instance:e}){let r=e.customer_detail||{};return t.jsx(u,{primary:e.reference,secondary:e.description,suffix:m({status:e.status,type:s.salesorder}),image:r.thumnbnail||r.image})}function D({instance:e}){let r=e.sales_order_detail||{};return t.jsx(u,{primary:r.reference,secondary:d._({id:"4fws5M"})+` ${e.description}`})}function J({instance:e}){const r=d._({id:"blbbPS"})+`: ${e.in_stock}`;return t.jsx(u,{primary:e.name,secondary:e.description,suffix:r,image:e.thumnbnail||e.image})}function Q({instance:e}){let r="-".repeat(e.level||0);return t.jsx(u,{primary:`${r} ${e.name}`,secondary:e.description})}function V({instance:e}){return t.jsx(u,{primary:e.name,secondary:e.description,suffix:e.units})}function Y({instance:e}){return t.jsx(u,{primary:e.test_name,secondary:e.description})}function Z({instance:e}){return t.jsx(u,{primary:e.name,secondary:e.description})}function j({instance:e}){var a,n,i;let r="";return(e==null?void 0:e.serial)!==null&&(e==null?void 0:e.serial)!==void 0?r+=d._({id:"AXeJt4"})+`: ${e.serial}`:e!=null&&e.quantity&&(r=d._({id:"VbWX2u"})+`: ${e.quantity}`),t.jsx(u,{primary:(a=e.part_detail)==null?void 0:a.full_name,suffix:r,image:((n=e.part_detail)==null?void 0:n.thumbnail)||((i=e.part_detail)==null?void 0:i.image)})}function ee({instance:e}){return e&&t.jsx(u,{primary:e.name,suffix:e.label=="group"?t.jsx(L,{}):t.jsx(T,{})})}function re({instance:e}){return e&&t.jsx(u,{primary:e.username,secondary:`${e.first_name} ${e.last_name}`})}const te={[s.address]:W,[s.build]:G,[s.company]:B,[s.contact]:F,[s.manufacturerpart]:E,[s.owner]:ee,[s.part]:J,[s.partcategory]:Q,[s.partparametertemplate]:V,[s.parttesttemplate]:Y,[s.projectcode]:H,[s.purchaseorder]:y,[s.purchaseorderline]:y,[s.returnorder]:K,[s.salesorder]:N,[s.salesordershipment]:D,[s.stocklocation]:Z,[s.stockitem]:j,[s.stockhistory]:j,[s.supplierpart]:X,[s.user]:re};function ue({model:e,instance:r}){if(e===void 0)return console.error("RenderInstance: No model provided"),t.jsx(g,{model:e});const a=te[e];return a?t.jsx(a,{instance:r}):(console.error(`RenderInstance: No renderer for model ${e}`),t.jsx(g,{model:e}))}function u({primary:e,secondary:r,suffix:a,image:n,labels:i,url:o}){return t.jsxs(x,{spacing:"xs",position:"apart",noWrap:!0,children:[t.jsxs(x,{spacing:"xs",position:"left",noWrap:!0,children:[n&&R({src:n,size:18}),t.jsx(f,{size:"sm",children:e}),r&&t.jsx(f,{size:"xs",children:r})]}),a&&t.jsxs(t.Fragment,{children:[t.jsx($,{}),t.jsx(f,{size:"xs",children:a})]})]})}function g({model:e}){return t.jsx(M,{color:"red",title:d._({id:"5iarLn",values:{model:e}}),children:t.jsx(t.Fragment,{})})}export{U as A,ne as P,ue as R,m as S,R as T,ie as a,ee as b,re as c,Z as d};
