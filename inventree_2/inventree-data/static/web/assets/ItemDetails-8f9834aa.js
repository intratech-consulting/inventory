import{j as n,ay as d,bi as M,bj as G,b6 as g,bk as N,bl as b,bm as V,bn as j,ba as _,bo as E,bp as q,bq as $,br as R,bs as H,bt as W,bu as Y,bv as z,bw as K,bx as Q,b8 as X,by as J,bz as O,bb as y,bA as Z,bB as ee,bC as ae,bf as ne,bg as te,bD as se,bE as re,P as k,bF as v,bG as le,I as p,w as S,bH as ie,bI as h,bJ as oe,bK as ce,bL as de,bM as ue,bN as fe,bO as be,bP as _e,bQ as he,bR as me,bS as xe,bT as Ie,bU as ge,ax as je,aw as ye,bV as ke,bW as ve,bX as pe,bY as Se,bZ as Te,b_ as we,b$ as Ce,c0 as Pe,ap as B,z as Be,h as u,v as Le,ag as Fe,i as T,$ as Ae,r as f,a3 as x,A as w,c1 as L,y as De,a9 as Ue}from"./vendor-580d7f6a.js";import{i as F,g as A,A as m,b as Me}from"./index-539d0685.js";import{g as Ge}from"./urls-9eea01e5.js";import{P as Ne}from"./ProgressBar-f667695e.js";import{Y as Ve}from"./YesNoButton-cd4c504e.js";import{g as Ee}from"./ModelType-07300e1e.js";import{S as qe}from"./Instance-4f17d9b0.js";const D={description:d,variant_of:M,unallocated_stock:G,total_in_stock:g,minimum_stock:N,allocated_to_build_orders:b,allocated_to_sales_orders:V,can_build:j,ordering:_,building:b,category:E,IPN:q,revision:$,units:R,keywords:H,status:d,info:d,details:d,parameters:W,stock:g,variants:Y,allocations:z,bom:K,builds:j,used_in:Q,manufacturers:X,suppliers:J,customers:O,purchase_orders:_,sales_orders:y,shipment:y,scheduling:Z,test_templates:ee,related_parts:ae,attachments:ne,notes:te,photo:se,upload:re,reject:k,select_image:v,delete:le,active:p,template:S,assembly:b,component:v,trackable:ie,purchaseable:_,saleable:h,virtual:oe,inactive:k,part:ce,supplier_part:de,calendar:ue,external:fe,creation_date:be,location:_e,default_location:he,default_supplier:me,link:xe,responsible:Ie,pricing:h,currency:h,stocktake:ge,user:je,group:ye,check:p,copy:S,quantity:ke,progress:ve,reference:pe,website:Se,email:Te,phone:we,sitemap:Ce};function $e(e){return D[e]}function o(e){let a;return e.icon in D?a=$e(e.icon):a=Pe,n.jsx(a,{...e.iconProps})}function C({pk:e,type:a}){const{data:t}=L({queryKey:["badge",a,e],queryFn:async()=>{let l="";switch(a){case"owner":l=m.owner_list;break;case"user":l=m.user_list;break;case"group":l=m.group_list;break}const c=F(l,e);return A.get(c).then(i=>{switch(i.status){case 200:return i.data;default:return null}}).catch(()=>null)}}),r=Me();function s(){return a==="user"&&r.isSet("DISPLAY_FULL_NAMES")?t.first_name||t.last_name?`${t.first_name} ${t.last_name}`:t.username:a==="user"?t.username:t.name}return n.jsx(f.Suspense,{fallback:n.jsx(x,{width:200,height:20,radius:"xl"}),children:n.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[n.jsx(De,{color:"dark",variant:"filled",style:{display:"flex",alignItems:"center"},children:t.name??s()}),n.jsx(o,{icon:a==="user"?a:t.label})]})})}function P(e){var t,r,s,l;let a=e==null?void 0:e.field_value;return a===void 0?"---":((t=e.field_data)!=null&&t.value_formatter&&(a=e.field_data.value_formatter()),(r=e.field_data)!=null&&r.badge?n.jsx(C,{pk:a,type:e.field_data.badge}):n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx(f.Suspense,{fallback:n.jsx(x,{width:200,height:20,radius:"xl"}),children:n.jsxs("span",{children:[a||((s=e.field_data)==null?void 0:s.unit)&&"0"," ",e.field_data.unit==!0&&e.unit]})}),e.field_data.user&&n.jsx(C,{pk:(l=e.field_data)==null?void 0:l.user,type:"user"})]}))}function Re(e){return n.jsx(Ve,{value:e.field_value})}function He(e){var l,c;if(e.field_data.external)return n.jsx(w,{href:`${e.field_value}`,target:"_blank",rel:"noreferrer noopener",children:n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[n.jsx(u,{children:e.field_value}),n.jsx(o,{icon:"external",iconProps:{size:15}})]})});const{data:a}=L({queryKey:["detail",e.field_data.model,e.field_value],queryFn:async()=>{const i=Ee(e.field_data.model);if(!(i!=null&&i.api_endpoint))return{};const U=F(i.api_endpoint,e.field_value);return A.get(U).then(I=>{switch(I.status){case 200:return I.data;default:return null}}).catch(()=>null)}}),t=f.useMemo(()=>Ge(e.field_data.model,e.field_value),[e.field_data.model,e.field_value]);let r=((l=e.field_data)==null?void 0:l.link)??!0,s;return e.field_data.model_formatter?s=e.field_data.model_formatter(a)??s:e.field_data.model_field?s=(a==null?void 0:a[e.field_data.model_field])??s:s=a==null?void 0:a.name,s===void 0&&(s=(a==null?void 0:a.name)??((c=e.field_data)==null?void 0:c.backup_value)??"No name defined",r=!1),n.jsx(f.Suspense,{fallback:n.jsx(x,{width:200,height:20,radius:"xl"}),children:r?n.jsx(w,{href:`/platform${t}`,target:a!=null&&a.external?"_blank":void 0,rel:a!=null&&a.external?"noreferrer noopener":void 0,children:n.jsx(u,{children:s})}):n.jsx(u,{children:s})})}function We(e){return n.jsx(Ne,{value:e.field_data.progress,maximum:e.field_data.total,progressLabel:!0})}function Ye(e){return n.jsx(qe,{type:e.field_data.model,status:e.field_value})}function ze({value:e}){return n.jsx(Le,{value:e,children:({copied:a,copy:t})=>n.jsx(Fe,{label:a?T._({id:"6V3Ea3"}):T._({id:"he3ygx"}),withArrow:!0,children:n.jsx(Ae,{color:a?"teal":"gray",onClick:t,children:a?n.jsx(o,{icon:"check"}):n.jsx(o,{icon:"copy"})})})})}function Ke({item:e,field:a}){function t(s){switch(s){case"text":case"string":return P;case"boolean":return Re;case"link":return He;case"progressbar":return We;case"status":return Ye;default:return P}}const r=t(a.type);return n.jsxs("tr",{children:[n.jsx("td",{style:{display:"flex",alignItems:"center",gap:"20px",width:"50",justifyContent:"flex-start"},children:n.jsx(o,{icon:a.icon??a.name})}),n.jsx("td",{children:n.jsx(u,{children:a.label})}),n.jsx("td",{style:{minWidth:"40%"},children:n.jsx(r,{field_data:a,field_value:e[a.name]})}),n.jsx("td",{style:{width:"50"},children:a.copy&&n.jsx(ze,{value:e[a.name]})})]})}function na({item:e,fields:a}){return n.jsx(B,{p:"xs",withBorder:!0,radius:"xs",children:n.jsx(Be,{striped:!0,children:n.jsx("tbody",{children:a.filter(t=>!t.hidden).map((t,r)=>n.jsx(Ke,{field:t,item:e},r))})})})}function ta(e){return n.jsx(B,{p:"xs",children:n.jsx(Ue,{cols:2,spacing:"xs",verticalSpacing:"xs",children:e.children})})}export{na as D,ta as I,o as a};
