import{j as r,ag as Y,$ as te,G as ee,r as h,J as kt,s as jr,B as L,h as U,cx as vr,cy as Sr,cz as Tt,z as Rr,cA as Pr,C as Ke,Z as z,an as st,L as Ar,a1 as I,o as Ue,cB as Ir,cC as wt,cD as Tr,cE as ke,ap as Mt,a2 as Mr,U as _r,aL as _t,cF as zr,aq as Fr,aV as rt,cG as Or,cH as yt,i as f,cI as Vr,cJ as $r,ac as Nr,S as Pe,D as zt,y as Er,aS as Ft,aK as Ct,c6 as Dr,bG as Ot,bh as Lr,w as Wr,ai as Br,aj as Hr,ak as Ur,x as jt,af as Kr,O as vt,cK as Qr,cL as qr,E as Gr,am as Yr,ar as Jr,cM as Xr,m as Zr}from"./vendor-580d7f6a.js";import{k as en,u as tn,g as He}from"./index-539d0685.js";import{n as Vt}from"./notifications-b554622d.js";import{e as rn,m as nn}from"./ApiForm-173d0ec5.js";import{S as on}from"./StylishText-5ee5b946.js";import{m as sn}from"./BaseContext-71d55e61.js";function an(e){return!(e.hidden??!1)&&r.jsx(Y,{disabled:!e.tooltip&&!e.text,label:e.tooltip??e.text,position:e.tooltipAlignment??"left",children:r.jsx(te,{disabled:e.disabled,radius:"xs",color:e.color,size:e.size,onClick:e.onClick??Vt,variant:e.variant,children:r.jsx(ee,{spacing:"xs",noWrap:!0,children:e.icon})},`action-icon-${e.key}`)},`tooltip-${e.key}`)}function Bo(e){function t(){return`${e}-${jr()}`}const[n,o]=h.useState(t()),s=h.useCallback(()=>{o(t())},[]),[a,l]=kt({key:`inventree-table-filters-${e}`,defaultValue:[],getInitialValueInEffect:!1}),c=h.useCallback(()=>{l([])},[]),[d,u]=h.useState([]),[i,x]=h.useState([]),p=h.useCallback(()=>{x([])},[]),[b,v]=kt({key:`inventree-hidden-table-columns-${e}`,defaultValue:[]}),[S,k]=h.useState("");return{tableKey:n,refreshTable:s,activeFilters:a,setActiveFilters:l,clearActiveFilters:c,expandedRecords:d,setExpandedRecords:u,selectedRecords:i,setSelectedRecords:x,clearSelectedRecords:p,hiddenColumns:b,setHiddenColumns:v,searchTerm:S,setSearchTerm:k}}var ln=Object.create,$t=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,dn=Object.getOwnPropertyNames,un=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty,pn=(e,t)=>()=>(e&&(t=e(e=0)),t),at=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gn=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dn(t))!hn.call(e,s)&&s!==n&&$t(e,s,{get:()=>t[s],enumerable:!(o=cn(t,s))||o.enumerable});return e},fn=(e,t,n)=>(n=e!=null?ln(un(e)):{},gn(t||!e||!e.__esModule?$t(n,"default",{value:e,enumerable:!0}):n,e)),m=pn(()=>{}),mn=at((e,t)=>{m();var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n}),bn=at((e,t)=>{m();var n=mn();function o(){}function s(){}s.resetWarningCache=o,t.exports=function(){function a(d,u,i,x,p,b){if(b!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}a.isRequired=a;function l(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:s,resetWarningCache:o};return c.PropTypes=c,c}}),xn=at((e,t)=>{m(),t.exports=bn()()});m();m();m();var kn=z({root:{"&&":{background:"transparent",":last-of-type td":{borderBottom:"none"}}}});function wn(){let{classes:e}=kn();return r.jsx("tr",{className:e.root,children:r.jsx("td",{})})}m();m();m();var he=fn(xn());m();var yn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},Cn=Object.defineProperty,jn=Object.defineProperties,vn=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,St=(e,t,n)=>t in e?Cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t)=>{for(var n in t||(t={}))Nt.call(t,n)&&St(e,n,t[n]);if(Qe)for(var n of Qe(t))Et.call(t,n)&&St(e,n,t[n]);return e},Sn=(e,t)=>jn(e,vn(t)),Rn=(e,t)=>{var n={};for(var o in e)Nt.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Qe)for(var o of Qe(e))t.indexOf(o)<0&&Et.call(e,o)&&(n[o]=e[o]);return n},qe=(e,t,n)=>{let o=h.forwardRef((s,a)=>{var l=s,{color:c="currentColor",size:d=24,stroke:u=2,children:i}=l,x=Rn(l,["color","size","stroke","children"]);return h.createElement("svg",Rt(Sn(Rt({ref:a},yn),{width:d,height:d,stroke:c,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),x),[...n.map(([p,b])=>h.createElement(p,b)),...i||[]])});return o.propTypes={color:he.default.string,size:he.default.oneOfType([he.default.string,he.default.number]),stroke:he.default.oneOfType([he.default.string,he.default.number])},o.displayName=`${t}`,o};m();var Pn=qe("arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);m();var An=qe("arrows-vertical","IconArrowsVertical",[["path",{d:"M8 7l4 -4l4 4",key:"svg-0"}],["path",{d:"M8 17l4 4l4 -4",key:"svg-1"}],["path",{d:"M12 3l0 18",key:"svg-2"}]]);m();var In=qe("database-off","IconDatabaseOff",[["path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6",key:"svg-1"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);m();var Tn=qe("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),Mn=z(e=>({root:{position:"absolute",top:0,right:0,bottom:0,left:0,flexDirection:"column",pointerEvents:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[6],opacity:0,transition:"opacity .15s ease"},active:{opacity:1},standardIcon:{fontSize:0,borderRadius:"50%",padding:e.spacing.xs,background:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}}));function _n({icon:e,text:t,pt:n,pb:o,active:s,children:a}){let{classes:l,cx:c}=Mn();return r.jsx(Ke,{pt:n,pb:o,className:c(l.root,{[l.active]:s}),children:a||r.jsxs(r.Fragment,{children:[e||r.jsx("div",{className:l.standardIcon,children:r.jsx(In,{})}),r.jsx(U,{size:"sm",color:"dimmed",children:t})]})})}m();m();m();m();function zn(e,t){let n=()=>{t(e.map(s=>s.matches))},o=e.map(s=>{try{return s.addEventListener("change",n),()=>s.removeEventListener("change",n)}catch{return s.addListener(n),()=>s.removeListener(n)}});return()=>{o.forEach(s=>s())}}function Fn(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(n=>window.matchMedia(n).matches):e.map(()=>!1))}function On(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[o,s]=h.useState(n?t:Fn(e,t)),a=h.useRef();return h.useEffect(()=>{if("matchMedia"in window)return a.current=e.map(l=>window.matchMedia(l)),s(a.current.map(l=>l.matches)),zn(a.current,l=>{s(l)})},[e]),o}var Vn=typeof window<"u"?h.useLayoutEffect:h.useEffect;function it(e){let t=_t(),n=typeof e=="function"?e(t):e;return zr(n||"",!0)}function $n(e){let t=_t(),n=h.useMemo(()=>e.map(s=>(typeof s=="function"?s(t):s)??""),[e,t]),o=h.useMemo(()=>e.map(()=>!0),[e]);return On(n,o)}function lt(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function Nn(e,t,n){return e.filter(o=>!t.map(n).includes(n(o)))}function nt(e,t){return e.filter((n,o,s)=>o===s.findIndex(a=>t(n)===t(a)))}function Dt(e,t){return t?t.match(/([^[.\]])+/g).reduce((n,o)=>n&&n[o],e):void 0}function N(e,t){return typeof t=="string"?Dt(e,t):t(e)}var En=z({noWrap:{whiteSpace:"nowrap"},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"}});function Dn({className:e,sx:t,style:n,visibleMediaQuery:o,title:s,noWrap:a,ellipsis:l,textAlignment:c,width:d}){let{cx:u,classes:i}=En();return it(o)?r.jsx(L,{component:"th",className:u({[i.noWrap]:a||l,[i.ellipsis]:l},e),sx:[{"&&":{textAlign:c},width:d,minWidth:d,maxWidth:d},t],style:n,children:s}):null}m();var Ln=z(e=>{let t=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",width:0,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-ke(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},shadowVisible:{"&::after":{opacity:1}}}});function Wn({shadowVisible:e}){let{cx:t,classes:n}=Ln();return r.jsx("th",{className:t(n.root,{[n.shadowVisible]:e})})}var Bn=z((e,{scrollDiff:t,borderColor:n})=>{let o=t<0,s=typeof n=="function"?n(e):n;return{root:{zIndex:2,position:o?"relative":"sticky",bottom:o?t:-1,background:e.colorScheme==="dark"?e.colors.dark[7]:e.white,"&& tr th":{borderTopColor:s}},relative:{position:"relative"},textSelectionDisabled:{userSelect:"none"}}}),Hn=h.forwardRef(function({className:e,style:t,borderColor:n,columns:o,defaultColumnProps:s,selectionVisible:a,leftShadowVisible:l,scrollDiff:c},d){let{cx:u,classes:i}=Bn({scrollDiff:c,borderColor:n});return r.jsx(L,{component:"tfoot",ref:d,className:u(i.root,e),style:t,children:r.jsxs("tr",{children:[a&&r.jsx(Wn,{shadowVisible:l}),o.map(({hidden:x,...p})=>{if(x)return null;let{accessor:b,visibleMediaQuery:v,textAlignment:S,width:k,footer:C,footerClassName:j,footerStyle:P,footerSx:F,noWrap:M,ellipsis:O}={...s,...p};return r.jsx(Dn,{className:j,style:P,sx:F,visibleMediaQuery:v,textAlignment:S,width:k,title:C,noWrap:M,ellipsis:O},b)})]})})});m();m();function Un({group:{id:e,columns:t,title:n,className:o,style:s,sx:a}}){let l=h.useMemo(()=>t.map(({visibleMediaQuery:u})=>u),[t]),c=$n(l),d=h.useMemo(()=>t.filter(({hidden:u},i)=>!u&&(c==null?void 0:c[i])).length,[t,c]);return d>0?r.jsx(L,{component:"th",colSpan:d,className:o,sx:a,style:s,children:n??lt(e)}):null}m();m();function Kn({children:e,isActive:t}){let[n,{close:o,toggle:s}]=Fr(!1);return r.jsxs(rt,{withArrow:!0,withinPortal:!0,shadow:"md",opened:n,onClose:o,trapFocus:!0,children:[r.jsx(rt.Target,{children:r.jsx(te,{onClick:a=>{a.preventDefault(),s()},variant:t?"default":"subtle",children:r.jsx(Tn,{size:14})})}),r.jsx(rt.Dropdown,{onClick:a=>a.preventDefault(),children:typeof e=="function"?e({close:o}):e})]})}var Qn=z(e=>({sortableColumnHeader:{cursor:"pointer",transition:"background .15s ease","&:hover:not(:has(button:hover))":{background:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]}},sortableColumnHeaderGroup:{gap:"0.25em"},columnHeaderText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},sortableColumnHeaderText:{minWidth:0,flexGrow:1},sortableColumnHeaderIcon:{transition:"transform .15s ease"},sortableColumnHeaderIconRotated:{transform:"rotate3d(0, 0, 1, 180deg)"},sortableColumnHeaderUnsortedIcon:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],transition:"color .15s ease","th:hover &":{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]}}}));function qn({className:e,sx:t,style:n,accessor:o,visibleMediaQuery:s,title:a,sortable:l,sortIcons:c,textAlignment:d,width:u,sortStatus:i,onSortStatusChange:x,filter:p,filtering:b}){let{cx:v,classes:S}=Qn();if(!it(s))return null;let k=a??lt(o),C=typeof k=="string"?k:void 0,j=l&&x?P=>{P!=null&&P.defaultPrevented||x({columnAccessor:o,direction:(i==null?void 0:i.columnAccessor)===o?i.direction==="asc"?"desc":"asc":(i==null?void 0:i.direction)??"asc"})}:void 0;return r.jsx(L,{component:"th",className:v({[S.sortableColumnHeader]:l},e),sx:[{"&&":{textAlign:d},width:u,minWidth:u,maxWidth:u},t],style:n,role:l?"button":void 0,tabIndex:l?0:void 0,onClick:j,onKeyDown:P=>P.key==="Enter"&&(j==null?void 0:j()),children:r.jsxs(ee,{className:S.sortableColumnHeaderGroup,position:"apart",noWrap:!0,children:[r.jsx(L,{className:v(S.columnHeaderText,S.sortableColumnHeaderText),title:C,children:k}),l||(i==null?void 0:i.columnAccessor)===o?r.jsx(r.Fragment,{children:(i==null?void 0:i.columnAccessor)===o?r.jsx(Ke,{className:v(S.sortableColumnHeaderIcon,{[S.sortableColumnHeaderIconRotated]:i.direction==="desc"}),role:"img","aria-label":`Sorted ${i.direction==="desc"?"descending":"ascending"}`,children:(c==null?void 0:c.sorted)||r.jsx(Pn,{size:14})}):r.jsx(Ke,{className:S.sortableColumnHeaderUnsortedIcon,role:"img","aria-label":"Not sorted",children:(c==null?void 0:c.unsorted)||r.jsx(An,{size:14})})}):null,p?r.jsx(Kn,{isActive:!!b,children:p}):null]})})}m();var Gn=z(e=>{let t=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",width:0,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-ke(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},shadowVisible:{"&::after":{opacity:1}},checkboxInput:{cursor:"pointer"}}});function Yn({shadowVisible:e,checked:t,indeterminate:n,checkboxProps:o,onChange:s,rowSpan:a}){let{cx:l,classes:c}=Gn();return r.jsx("th",{className:l(c.root,{[c.shadowVisible]:e}),rowSpan:a,children:r.jsx(st,{classNames:{input:c.checkboxInput},checked:t,indeterminate:n,disabled:!s,onChange:s,...o})})}var Jn=z(e=>({root:{zIndex:2,position:"sticky",top:0,background:e.colorScheme==="dark"?e.colors.dark[7]:e.white},textSelectionDisabled:{userSelect:"none"}})),Xn=h.forwardRef(function({className:e,style:t,sortStatus:n,sortIcons:o,onSortStatusChange:s,columns:a,defaultColumnProps:l,groups:c,selectionVisible:d,selectionChecked:u,selectionIndeterminate:i,onSelectionChange:x,selectionCheckboxProps:p,leftShadowVisible:b},v){let{classes:S,cx:k}=Jn(),C=d?r.jsx(Yn,{shadowVisible:b,checked:u,indeterminate:i,checkboxProps:p,onChange:x,rowSpan:c?2:void 0}):null;return r.jsxs("thead",{className:k(S.root,e),style:t,ref:v,children:[c&&r.jsxs("tr",{children:[C,c.map(j=>r.jsx(Un,{group:j},j.id))]}),r.jsxs("tr",{children:[!c&&C,a.map(({hidden:j,...P})=>{if(j)return null;let{accessor:F,visibleMediaQuery:M,textAlignment:O,width:D,title:W,sortable:_,titleClassName:Q,titleStyle:J,titleSx:X,filter:re,filtering:Z}={...l,...P};return r.jsx(qn,{accessor:F,className:Q,style:J,sx:X,visibleMediaQuery:M,textAlignment:O,width:D,title:W,sortable:_,sortStatus:n,sortIcons:o,onSortStatusChange:s,filter:re,filtering:Z},F)})]})]})});m();var Zn=z(e=>({root:{zIndex:3,position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",background:e.fn.rgba(e.colorScheme==="dark"?e.colors.dark[8]:e.white,.75),opacity:0,transition:"opacity .15s ease"},fetching:{pointerEvents:"all",opacity:1}}));function eo({pt:e,pb:t,fetching:n,customContent:o,backgroundBlur:s,size:a,variant:l,color:c}){let{classes:d,cx:u}=Zn();return r.jsx(Ke,{pt:e,pb:t,className:u(d.root,{[d.fetching]:n}),sx:s?{backdropFilter:`blur(${s}px)`}:void 0,children:n&&(o||r.jsx(Ar,{size:a,variant:l,color:c}))})}m();m();var Pt={xs:22,sm:26,md:32,lg:38,xl:44};function to({size:e,label:t,values:n,value:o,onChange:s,color:a}){return r.jsxs(ee,{spacing:"xs",children:[r.jsx(U,{size:e,children:t}),r.jsxs(I,{withinPortal:!0,withArrow:!0,children:[r.jsx(I.Target,{children:r.jsx(Ue,{size:e,variant:"default",sx:[{fontWeight:"normal"},l=>({height:Pt[e],paddingLeft:l.spacing[e],paddingRight:l.spacing[e]})],children:o})}),r.jsx(I.Dropdown,{children:n.map(l=>{let c=l===o;return r.jsx(I.Item,{sx:[{height:Pt[e]},d=>({"&&":{color:c?d.white:void 0},background:c?d.colors[a||d.primaryColor][6]:void 0})],disabled:c,onClick:()=>s(l),children:r.jsx(U,{size:e,children:l})},l)})})]})]})}var ro=z((e,{topBorderColor:t,paginationWrapBreakpoint:n})=>({root:{background:e.colorScheme==="dark"?e.colors.dark[7]:e.white,borderTop:`1px solid ${typeof t=="function"?t(e):t}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:e.spacing.xs,[e.fn.largerThan(n)]:{flexDirection:"row"}},text:{flex:"1 1 auto"},pagination:{opacity:1,transition:"opacity .15s ease"},paginationFetching:{opacity:0}})),no=h.forwardRef(function({className:e,style:t,topBorderColor:n,fetching:o,page:s,onPageChange:a,paginationColor:l,paginationSize:c,loadingText:d,noRecordsText:u,paginationText:i,totalRecords:x,recordsPerPage:p,onRecordsPerPageChange:b,recordsPerPageLabel:v,recordsPerPageOptions:S,recordsLength:k,horizontalSpacing:C,paginationWrapBreakpoint:j,getPaginationControlProps:P},F){let M;if(o)M=d;else if(!x)M=u;else{let W=(s-1)*p+1,_=W+k-1;M=i({from:W,to:_,totalRecords:x})}let{classes:O,cx:D}=ro({topBorderColor:n,paginationWrapBreakpoint:j});return r.jsxs(L,{ref:F,px:C??"xs",py:"xs",className:D(O.root,e),style:t,children:[r.jsx(U,{className:O.text,size:c,children:M}),S&&r.jsx(to,{size:c,label:v,values:S,color:l,value:p,onChange:b}),r.jsx(vr,{color:l,className:D(O.pagination,{[O.paginationFetching]:o||!k}),value:s,onChange:a,size:c,total:Math.ceil(x/p),getControlProps:P})]})});m();m();var oo=z({withPointerCursor:{cursor:"pointer"},noWrap:{whiteSpace:"nowrap"},ellipsis:{overflow:"hidden",textOverflow:"ellipsis"}});function so({className:e,sx:t,style:n,visibleMediaQuery:o,record:s,recordIndex:a,onClick:l,noWrap:c,ellipsis:d,textAlignment:u,width:i,accessor:x,render:p,defaultRender:b,customCellAttributes:v}){let{cx:S,classes:k}=oo();return it(o)?r.jsx(L,{component:"td",className:S({[k.noWrap]:c||d,[k.ellipsis]:d,[k.withPointerCursor]:l},e),sx:[{width:i,minWidth:i,maxWidth:i,textAlign:u},t],style:n,onClick:l,...v==null?void 0:v(s,a),children:p?p(s,a):b?b(s,a,x):Dt(s,x)}):null}m();m();function ao(e){let[t,n]=h.useState(null),o=(e==null?void 0:e.join(":"))||"";return h.useEffect(()=>{n(null)},[o]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:n}}function io(e){let[t,n]=h.useState(null);return h.useEffect(()=>{e&&n(null)},[e]),{rowContextMenuInfo:t,setRowContextMenuInfo:n}}function lo({rowExpansion:e,records:t,idAccessor:n}){let o=[];if(e&&t){let{trigger:c,allowMultiple:d,initiallyExpanded:u}=e;t&&c==="always"?o=t.map(i=>N(i,n)):u&&(o=t.filter(u).map(i=>N(i,n)),d||(o=[o[0]]))}let s,a,l=h.useState(o);if(e){let{trigger:c,allowMultiple:d,collapseProps:u,content:i}=e;e.expanded?{recordIds:s,onRecordIdsChange:a}=e.expanded:[s,a]=l;let x=p=>a==null?void 0:a(s.filter(b=>b!==N(p,n)));return{expandOnClick:c!=="always"&&c!=="never",isRowExpanded:p=>c==="always"?!0:s.includes(N(p,n)),expandRow:p=>{let b=N(p,n);a==null||a(d?[...s,b]:[b])},collapseRow:x,collapseProps:u,content:(p,b)=>()=>i({record:p,recordIndex:b,collapse:()=>x(p)})}}}function co(e,t){let[n,o]=h.useState(e),[s,a]=h.useState(e),l=yt(()=>o(!0),0),c=yt(()=>a(!1),t||200);return h.useEffect(()=>{e?(c.clear(),a(!0),l.start()):(l.clear(),o(!1),c.start())},[l,c,e]),{expanded:n,visible:s}}function xe(){var o;let[e]=Ir(),{width:t,height:n}=((o=e.current)==null?void 0:o.getBoundingClientRect())||{width:0,height:0};return{ref:e,width:t,height:n}}var uo=z({cell:{"&&":{borderBottomWidth:0,padding:0}},expandedCell:{"&&":{borderBottomWidth:1}}});function ho({open:e,colSpan:t,content:n,collapseProps:o}){let{expanded:s,visible:a}=co(e,o==null?void 0:o.transitionDuration),{cx:l,classes:c}=uo();return a?r.jsxs(r.Fragment,{children:[r.jsx("tr",{}),r.jsx("tr",{children:r.jsx("td",{className:l(c.cell,{[c.expandedCell]:s}),colSpan:t,children:r.jsx(Or,{in:s,...o,children:n()})})})]}):null}m();var po=z(e=>{let t=e.colorScheme==="dark"?.5:.05;return{root:{position:"sticky",zIndex:1,width:0,left:0,background:"inherit","&::after":{content:'""',position:"absolute",top:0,right:-ke(e.spacing.sm),bottom:0,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`,pointerEvents:"none",opacity:0,transition:"opacity .15s ease"}},withRightShadow:{"&::after":{opacity:1}},checkbox:{cursor:"pointer"}}});function go({record:e,recordIndex:t,withRightShadow:n,getCheckboxProps:o,...s}){let{cx:a,classes:l}=po();return r.jsx("td",{className:a(l.root,{[l.withRightShadow]:n}),onClick:c=>c.stopPropagation(),children:r.jsx(st,{classNames:{input:l.checkbox},...s,...o(e,t)})})}var fo=z(e=>{let t=e.colors[e.primaryColor][6];return{withPointerCursor:{cursor:"pointer"},selected:{"&&":{"tr&":{background:e.colorScheme==="dark"?e.fn.darken(t,.6):e.fn.lighten(t,.9)},"table[data-striped] tbody &:nth-of-type(odd)":{background:e.colorScheme==="dark"?e.fn.darken(t,.55):e.fn.lighten(t,.85)}}},contextMenuVisible:{"&&":{"tr&":{background:e.colorScheme==="dark"?e.fn.darken(t,.5):e.fn.lighten(t,.7)},"table[data-striped] tbody &:nth-of-type(odd)":{background:e.colorScheme==="dark"?e.fn.darken(t,.45):e.fn.lighten(t,.65)}}}}});function mo({record:e,recordIndex:t,columns:n,defaultColumnProps:o,defaultColumnRender:s,selectionVisible:a,selectionChecked:l,onSelectionChange:c,isRecordSelectable:d,getSelectionCheckboxProps:u,onClick:i,onCellClick:x,onContextMenu:p,expansion:b,customAttributes:v,className:S,style:k,sx:C,contextMenuVisible:j,leftShadowVisible:P}){let{cx:F,classes:M}=fo();return r.jsxs(r.Fragment,{children:[r.jsxs(L,{component:"tr",className:F({[M.withPointerCursor]:i||(b==null?void 0:b.expandOnClick),[M.selected]:l,[M.contextMenuVisible]:j},typeof S=="function"?S(e,t):S),onClick:O=>{if(b){let{isRowExpanded:D,expandOnClick:W,expandRow:_,collapseRow:Q}=b;W&&(D(e)?Q(e):_(e))}i==null||i(O)},style:typeof k=="function"?k(e,t):k,sx:C,...v==null?void 0:v(e,t),onContextMenu:p,children:[a&&r.jsx(go,{record:e,recordIndex:t,withRightShadow:P,checked:l,disabled:!c||(d?!d(e,t):!1),onChange:c,getCheckboxProps:u}),n.map(({hidden:O,...D},W)=>{if(O)return null;let{accessor:_,visibleMediaQuery:Q,textAlignment:J,noWrap:X,ellipsis:re,width:Z,render:we,cellsClassName:ne,cellsStyle:oe,cellsSx:pe,customCellAttributes:ge}={...o,...D},se;return x&&(se=fe=>x({event:fe,record:e,recordIndex:t,column:D,columnIndex:W})),r.jsx(so,{className:typeof ne=="function"?ne(e,t):ne,style:typeof oe=="function"?oe(e,t):oe,sx:pe,visibleMediaQuery:Q,record:e,recordIndex:t,onClick:se,accessor:_,textAlignment:J,noWrap:X,ellipsis:re,width:Z,render:we,defaultRender:s,customCellAttributes:ge},_)})]}),b&&r.jsx(ho,{colSpan:n.filter(({hidden:O})=>!O).length+(a?1:0),open:b.isRowExpanded(e),content:b.content(e,t),collapseProps:b.collapseProps})]})}m();var bo=z(e=>({root:{position:"fixed",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,overflow:"hidden",transition:"all .15s ease"}}));function xo({borderRadius:e="xs",shadow:t="sm",zIndex:n=3,y:o,x:s,onDestroy:a,children:l}){wt("resize",a),wt("scroll",a);let c=Tr(a),{ref:d,width:u,height:i}=xe(),x=Tt(c,d),{innerWidth:p,innerHeight:b}=window,{classes:v,theme:{dir:S,spacing:k}}=bo(),C=ke(k.md);return r.jsx(Mt,{ref:x,shadow:t,radius:e,className:v.root,sx:{zIndex:n,top:o+i+C>b?b-i-C:o,left:S==="ltr"?s+u+C>p?p-u-C:s:p-C-(s-u-C<0?u+C:s)},children:l})}m();var ko=z(e=>({root:{height:1,background:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1]}}));function wo(){let{classes:e}=ko();return r.jsx("div",{className:e.root})}m();var yo=z((e,{color:t})=>{let n=ke(e.spacing.sm)/2;return{root:{width:"100%",display:"flex",alignItems:"center",paddingTop:n,paddingBottom:n,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,color:t&&e.colors[t][6],transition:"background .15s ease","&[disabled]":{cursor:"not-allowed",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:hover:not([disabled])":{background:e.fn.rgba(t?e.colors[t][6]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],t?e.colorScheme==="dark"?.15:.08:.25)},"&:active:not([disabled])":{background:e.fn.rgba(t?e.colors[t][6]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4],t?e.colorScheme==="dark"?.3:.2:.5)}},icon:{fontSize:0,marginRight:e.spacing.xs},title:{whiteSpace:"nowrap"}}});function Co({icon:e,title:t,color:n,disabled:o,onClick:s}){let{classes:a}=yo({color:n});return r.jsxs(Mr,{className:a.root,disabled:o,onClick:s,children:[e&&r.jsx(L,{className:a.icon,children:e}),r.jsx(U,{className:a.title,size:"sm",children:t})]})}m();var jo=z(e=>{let t=e.colorScheme==="dark"?.5:.05;return{root:{flex:"1 1 100%"},scrollbar:{'&[data-state="visible"]':{background:"transparent"},"div::before":{pointerEvents:"none"}},corner:{background:"transparent"},thumb:{zIndex:3},shadow:{position:"absolute",pointerEvents:"none",opacity:0,transition:"opacity .15s ease"},topShadow:{zIndex:2,left:0,right:0,height:e.spacing.sm,background:`linear-gradient(${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`},leftShadow:{zIndex:3,top:0,left:0,bottom:0,width:e.spacing.sm,background:`linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to right, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`},rightShadow:{zIndex:2,top:0,bottom:0,right:0,width:e.spacing.sm,background:`linear-gradient(to left, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to left, ${e.fn.rgba(e.black,t)}, ${e.fn.rgba(e.black,0)} 30%)`},bottomShadow:{zIndex:2,left:0,right:0,height:e.spacing.sm,background:`linear-gradient(${e.fn.rgba(e.black,0)}, ${e.fn.rgba(e.black,t)}), linear-gradient(${e.fn.rgba(e.black,0)} 30%, ${e.fn.rgba(e.black,t)})`},shadowVisible:{opacity:1}}});function vo({topShadowVisible:e,leftShadowVisible:t,rightShadowVisible:n,bottomShadowVisible:o,headerHeight:s,footerHeight:a,onScrollPositionChange:l,children:c,viewportRef:d,scrollAreaProps:u}){let i=a?a-1:0,{cx:x,classes:p}=jo();return r.jsxs(_r,{...u,viewportRef:d,classNames:{root:p.root,scrollbar:p.scrollbar,thumb:p.thumb,corner:p.corner},styles:{scrollbar:{marginTop:s,marginBottom:i}},onScrollPositionChange:l,children:[c,r.jsx(L,{className:x(p.shadow,p.topShadow,{[p.shadowVisible]:e}),sx:{top:s}}),r.jsx("div",{className:x(p.shadow,p.leftShadow,{[p.shadowVisible]:t})}),r.jsx("div",{className:x(p.shadow,p.rightShadow,{[p.shadowVisible]:n})}),r.jsx(L,{className:x(p.shadow,p.bottomShadow,{[p.shadowVisible]:o}),sx:{bottom:i}})]})}var At={},So=z((e,{borderColor:t,rowBorderColor:n})=>{let o=typeof t=="function"?t(e):t,s=typeof n=="function"?n(e):n,a=e.colorScheme==="dark"?.5:.05;return{root:{position:"relative",display:"flex",flexDirection:"column",overflow:"hidden",tr:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white},"&&":{"thead tr th":{borderBottomColor:o},"tbody tr td":{borderTopColor:s}}},lastRowBorderBottomVisible:{"tbody tr:last-of-type td":{borderBottom:`1px solid ${s}`}},textSelectionDisabled:{userSelect:"none"},table:{borderCollapse:"separate",borderSpacing:0},tableWithBorder:{border:`1px solid ${o}`},tableWithColumnBorders:{"&&":{"th, td":{":not(:first-of-type)":{borderLeft:`1px solid ${s}`}}}},tableWithColumnBordersAndSelectableRecords:{thead:{"tr + tr":{th:{borderLeft:`1px solid ${s}`}}}},verticalAlignmentTop:{td:{verticalAlign:"top"}},verticalAlignmentBottom:{td:{verticalAlign:"bottom"}},pinLastColumn:{"th:last-of-type, td:last-of-type":{position:"sticky",right:0,zIndex:1,background:"inherit","&::after":{content:"''",position:"absolute",top:0,bottom:0,width:e.spacing.sm,background:`linear-gradient(to left, ${e.fn.rgba(e.black,a)}, ${e.fn.rgba(e.black,0)}), linear-gradient(to left, ${e.fn.rgba(e.black,a)}, ${e.fn.rgba(e.black,0)} 30%)`,borderRight:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,left:-ke(e.spacing.sm),pointerEvents:"none",opacity:0,transition:"opacity 0.2s"}}},pinnedColumnShadowVisible:{"th:last-of-type, td:last-of-type":{"&::after":{opacity:1}}}}});function Ro({withBorder:e,borderRadius:t,borderColor:n=T=>T.colorScheme==="dark"?T.colors.dark[4]:T.colors.gray[3],rowBorderColor:o=T=>T.fn.rgba(T.colorScheme==="dark"?T.colors.dark[4]:T.colors.gray[3],.65),withColumnBorders:s,textSelectionDisabled:a,height:l="100%",minHeight:c,shadow:d,verticalAlignment:u="center",fetching:i,columns:x,groups:p,pinLastColumn:b,defaultColumnProps:v,defaultColumnRender:S,idAccessor:k="id",records:C,selectedRecords:j,onSelectedRecordsChange:P,isRecordSelectable:F,allRecordsSelectionCheckboxProps:M={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:O=(T,ae)=>({"aria-label":`Select record ${ae+1}`}),sortStatus:D,sortIcons:W,onSortStatusChange:_,horizontalSpacing:Q,page:J,onPageChange:X,totalRecords:re,recordsPerPage:Z,onRecordsPerPageChange:we,recordsPerPageOptions:ne,recordsPerPageLabel:oe="Records per page",paginationColor:pe,paginationSize:ge="sm",paginationText:se=({from:T,to:ae,totalRecords:ie})=>`${T} - ${ae} / ${ie}`,paginationWrapBreakpoint:fe="sm",getPaginationControlProps:Ae=T=>T==="previous"?{"aria-label":"Previous page"}:T==="next"?{"aria-label":"Next page"}:{},loaderBackgroundBlur:y,customLoader:g,loaderSize:R,loaderVariant:V,loaderColor:q,loadingText:Ie="...",emptyState:Lt,noRecordsText:ct="No records",noRecordsIcon:Wt,striped:Bt,noHeader:Ht,onRowClick:ye,onCellClick:Ut,onScrollToTop:Te,onScrollToBottom:Me,onScrollToLeft:_e,onScrollToRight:ze,rowContextMenu:G,rowExpansion:Kt,rowClassName:Qt,rowStyle:qt,rowSx:Gt,customRowAttributes:Yt,scrollViewportRef:Jt,scrollAreaProps:Xt,bodyRef:Zt,m:er,my:tr,mx:rr,mt:nr,mb:or,ml:sr,mr:ar,sx:ir,className:lr,classNames:B,style:cr,styles:Ge,...dr}){let{ref:T,width:ae,height:ie}=xe(),Fe=h.useMemo(()=>(p==null?void 0:p.flatMap(w=>w.columns))??x,[x,p]),{ref:ur,height:Ye}=xe(),{ref:hr,width:Je,height:Ce}=xe(),{ref:pr,height:gr}=xe(),{ref:fr,height:dt}=xe(),[Xe,ut]=h.useState(!0),[Ze,ht]=h.useState(!0),[Oe,pt]=h.useState(!0),[Ve,gt]=h.useState(!0),{rowContextMenuInfo:le,setRowContextMenuInfo:me}=io(i),mr=lo({rowExpansion:Kt,records:C,idAccessor:k}),et=h.useCallback(()=>{if(!i&&G&&me(null),i||Ce<=ie)ut(!0),ht(!0);else{let w=T.current.scrollTop,A=w===0,E=Ce-w-ie<1;ut(A),ht(E),A&&A!==Xe&&(Te==null||Te()),E&&E!==Ze&&(Me==null||Me())}if(i||Je===ae)pt(!0),gt(!0);else{let w=T.current.scrollLeft,A=w===0,E=Je-w-ae<1;pt(A),gt(E),A&&A!==Oe&&(_e==null||_e()),E&&E!==Ve&&(ze==null||ze())}},[i,Me,_e,ze,Te,G,ie,T,ae,Ze,Oe,Ve,Xe,me,Ce,Je]);Vn(et,[et]);let br=h.useCallback(w=>{T.current.scrollTo({top:0,left:0}),X(w)},[X,T]),$e=C==null?void 0:C.length,ft=C==null?void 0:C.map(w=>N(w,k)),je=!!j,ce=j==null?void 0:j.map(w=>N(w,k)),mt=ft!==void 0&&ce!==void 0&&ce.length>0,ve=F?C==null?void 0:C.filter(F):C,Ne=ve==null?void 0:ve.map(w=>N(w,k)),Ee=mt&&Ne.every(w=>ce.includes(w)),xr=mt&&Ne.some(w=>ce.includes(w)),kr=h.useCallback(()=>{j&&P&&P(Ee?j.filter(w=>!Ne.includes(N(w,k))):nt([...j,...ve],w=>N(w,k)))},[Ee,k,P,Ne,ve,j]),{lastSelectionChangeIndex:De,setLastSelectionChangeIndex:wr}=ao(ft),tt=je&&!Oe,{cx:bt,classes:K,theme:yr}=So({borderColor:n,rowBorderColor:o}),Cr={m:er,my:tr,mx:rr,mt:nr,mb:or,ml:sr,mr:ar},H=typeof Ge=="function"?Ge(yr,At,At):Ge;return r.jsxs(L,{...Cr,className:bt(K.root,{[K.tableWithBorder]:e},lr,B==null?void 0:B.root),sx:[w=>({borderRadius:w.radius[t]||t,boxShadow:w.shadows[d]||d,height:l,minHeight:c}),...Sr(ir)],style:{...H==null?void 0:H.root,...cr},children:[r.jsx(vo,{viewportRef:Tt(T,Jt||null),topShadowVisible:!Xe,leftShadowVisible:!(j||Oe),rightShadowVisible:!Ve&&!b,bottomShadowVisible:!Ze,headerHeight:Ye,footerHeight:gr,onScrollPositionChange:et,scrollAreaProps:Xt,children:r.jsxs(Rr,{ref:hr,horizontalSpacing:Q,className:bt(K.table,{[K.tableWithColumnBorders]:s,[K.lastRowBorderBottomVisible]:Ce<ie,[K.textSelectionDisabled]:a,[K.verticalAlignmentTop]:u==="top",[K.verticalAlignmentBottom]:u==="bottom",[K.tableWithColumnBordersAndSelectableRecords]:je&&s,[K.pinLastColumn]:b,[K.pinnedColumnShadowVisible]:b&&!Ve}),striped:$e?Bt:!1,...dr,children:[Ht?null:r.jsx(Xn,{ref:ur,className:B==null?void 0:B.header,style:H==null?void 0:H.header,columns:Fe,defaultColumnProps:v,groups:p,sortStatus:D,sortIcons:W,onSortStatusChange:_,selectionVisible:je,selectionChecked:Ee,selectionIndeterminate:xr&&!Ee,onSelectionChange:kr,selectionCheckboxProps:M,leftShadowVisible:tt}),r.jsx("tbody",{ref:Zt,children:$e?C.map((w,A)=>{let E=N(w,k),Se=(ce==null?void 0:ce.includes(E))||!1,Le=!1,We=!1;if(G){let{hidden:$}=G;(!$||!(typeof $=="function"?$(w,A):$))&&(G.trigger==="click"?Le=!0:We=!0)}let Be;P&&j&&(Be=$=>{if($.nativeEvent.shiftKey&&De!==null){let be=C.filter(A>De?(de,ue)=>ue>=De&&ue<=A&&(F?F(de,ue):!0):(de,ue)=>ue>=A&&ue<=De&&(F?F(de,ue):!0));P(Se?Nn(j,be,de=>N(de,k)):nt([...j,...be],de=>N(de,k)))}else P(Se?j.filter(be=>N(be,k)!==E):nt([...j,w],be=>N(be,k)));wr(A)});let Re;Le?Re=$=>{me({y:$.clientY,x:$.clientX,record:w,recordIndex:A}),ye==null||ye(w,A,$)}:ye&&(Re=$=>{ye(w,A,$)});let xt;return We&&(xt=$=>{$.preventDefault(),me({y:$.clientY,x:$.clientX,record:w,recordIndex:A})}),r.jsx(mo,{record:w,recordIndex:A,columns:Fe,defaultColumnProps:v,defaultColumnRender:S,selectionVisible:je,selectionChecked:Se,onSelectionChange:Be,isRecordSelectable:F,getSelectionCheckboxProps:O,onClick:Re,onCellClick:Ut,onContextMenu:xt,contextMenuVisible:le?N(le.record,k)===E:!1,expansion:mr,className:Qt,style:qt,sx:Gt,customAttributes:Yt,leftShadowVisible:tt},E)}):r.jsx(wn,{})}),Fe.some(({footer:w})=>w)&&r.jsx(Hn,{ref:pr,className:B==null?void 0:B.footer,style:H==null?void 0:H.footer,borderColor:n,columns:Fe,defaultColumnProps:v,selectionVisible:je,leftShadowVisible:tt,scrollDiff:Ce-ie})]})}),J&&r.jsx(no,{ref:fr,className:B==null?void 0:B.pagination,style:H==null?void 0:H.pagination,topBorderColor:n,horizontalSpacing:Q,fetching:i,page:J,onPageChange:br,totalRecords:re,recordsPerPage:Z,onRecordsPerPageChange:we,recordsPerPageOptions:ne,recordsPerPageLabel:oe,paginationColor:pe,paginationSize:ge,paginationText:se,paginationWrapBreakpoint:fe,getPaginationControlProps:Ae,noRecordsText:ct,loadingText:Ie,recordsLength:$e}),r.jsx(eo,{pt:Ye,pb:dt,fetching:i,backgroundBlur:y,customContent:g,size:R,variant:V,color:q}),r.jsx(_n,{pt:Ye,pb:dt,icon:Wt,text:ct,active:!i&&!$e,children:Lt}),G&&le&&r.jsx(Pr,{children:r.jsx(xo,{zIndex:G.zIndex,borderRadius:G.borderRadius,shadow:G.shadow,y:le.y,x:le.x,onDestroy:()=>me(null),children:G.items(le.record,le.recordIndex).map(({divider:w,key:A,title:E,icon:Se,color:Le,hidden:We,disabled:Be,onClick:Re})=>w?r.jsx(wo,{},A):We?null:r.jsx(Co,{title:E??lt(A),icon:Se,color:Le,disabled:Be,onClick:()=>{me(null),Re()}},A))})})]})}m();m();m();m();m();m();m();m();m();m();m();m();m();m();m();m();m();m();function It({icon:e,actions:t,tooltip:n="",label:o=""}){return r.jsxs(I,{shadow:"xs",children:[r.jsx(I.Target,{children:r.jsx(te,{children:r.jsx(Y,{label:n,children:e})})}),r.jsxs(I.Dropdown,{children:[o&&r.jsx(I.Label,{children:o}),t.map((s,a)=>r.jsx(I.Item,{children:s},a))]})]})}function Po({columns:e,onToggleColumn:t}){return r.jsxs(I,{shadow:"xs",closeOnItemClick:!1,children:[r.jsx(I.Target,{children:r.jsx(te,{children:r.jsx(Y,{label:f._({id:"kCTFU8"}),children:r.jsx(Vr,{})})})}),r.jsxs(I.Dropdown,{children:[r.jsx(I.Label,{children:f._({id:"kCTFU8"})}),e.filter(n=>n.switchable??!0).map(n=>r.jsx(I.Item,{children:r.jsx(st,{checked:!n.hidden,label:n.title||n.accessor,onChange:()=>t(n.accessor),radius:"sm"})},n.accessor))]})]})}function Ao({downloadCallback:e}){const t=[{value:"csv",label:f._({id:"6N5Lt+"})},{value:"tsv",label:f._({id:"Keu6yk"})},{value:"xlsx",label:f._({id:"UR8vqQ"})}];return r.jsx(r.Fragment,{children:r.jsxs(I,{children:[r.jsx(I.Target,{children:r.jsx(te,{children:r.jsx(Y,{label:f._({id:"w+nnwj"}),children:r.jsx($r,{})})})}),r.jsx(I.Dropdown,{children:t.map(n=>r.jsx(I.Item,{onClick:()=>{e(n.value)},children:n.label},n.value))})]})})}function Io(e){return e.choices?e.choices:e.choiceFunction?e.choiceFunction():[{value:"true",label:f._({id:"l75CjT"})},{value:"false",label:f._({id:"1UzENP"})}]}function Ho(e){return()=>{const t=en.getState().status;if(!t)return[];const n=t[e];return n?Object.keys(n).map(o=>{const s=n[o];return{value:s.key,label:s.label??s.key}}):[]}}function Uo(){return{name:"assigned_to_me",label:f._({id:"iU3XRS"}),description:f._({id:"BnF3ID"})}}function Ko(){return{name:"outstanding",label:f._({id:"aimnwe"}),description:f._({id:"hUps7c"})}}function Qo(){return{name:"overdue",label:f._({id:"ddrz1m"}),description:f._({id:"j81Gfd"})}}function To({flt:e,tableState:t}){const n=h.useCallback(()=>{let o=t.activeFilters.filter(s=>s.name!==e.name);t.setActiveFilters(o)},[e]);return r.jsx(Mt,{p:"sm",shadow:"sm",radius:"xs",children:r.jsxs(ee,{position:"apart",children:[r.jsxs(Pe,{spacing:"xs",children:[r.jsx(U,{size:"sm",children:e.label}),r.jsx(U,{size:"xs",children:e.description})]}),r.jsxs(ee,{position:"right",children:[r.jsx(Er,{children:e.displayValue??e.value}),r.jsx(Y,{label:f._({id:"rn2/2V"}),withinPortal:!0,children:r.jsx(Ft,{size:"md",color:"red",onClick:n})})]})]},e.name)})}const Mo=h.forwardRef(({label:e,description:t,...n},o)=>r.jsxs("div",{ref:o,...n,children:[r.jsx(U,{size:"sm",children:e}),r.jsx(U,{size:"xs",children:t})]}));function _o({tableState:e,availableFilters:t}){const n=h.useMemo(()=>{var d;let c=((d=e.activeFilters)==null?void 0:d.map(u=>u.name))??[];return t.filter(u=>!c.includes(u.name)).map(u=>({value:u.name,label:u.label,description:u.description}))},[e.activeFilters,t]),[o,s]=h.useState(null),a=h.useMemo(()=>{let c=t.find(d=>d.name===o);return c?Io(c):[]},[o]),l=h.useCallback(c=>{var x,p;let d=t.find(b=>b.name===o);if(!d)return;let u=((x=e.activeFilters)==null?void 0:x.filter(b=>b.name!==o))??[],i={...d,value:c,displayValue:(p=a.find(b=>b.value===c))==null?void 0:p.label};e.setActiveFilters([...u,i])},[o]);return r.jsxs(Pe,{spacing:"xs",children:[r.jsx(zt,{}),r.jsx(Ct,{data:n,itemComponent:Mo,searchable:!0,placeholder:f._({id:"hpMOSe"}),label:f._({id:"o7J4JM"}),onChange:c=>s(c),maxDropdownHeight:800}),o&&r.jsx(Ct,{data:a,label:f._({id:"wMHvYH"}),placeholder:f._({id:"Fo55lj"}),onChange:c=>l(c),maxDropdownHeight:800})]})}function zo({availableFilters:e,tableState:t,opened:n,onClose:o}){const[s,a]=h.useState(!1);return h.useEffect(()=>{a(!1)},[t.activeFilters]),r.jsx(Nr,{size:"sm",position:"right",withCloseButton:!0,opened:n,onClose:o,title:r.jsx(on,{size:"lg",children:f._({id:"l34cnu"})}),children:r.jsxs(Pe,{spacing:"xs",children:[t.activeFilters&&t.activeFilters.map(l=>r.jsx(To,{flt:l,tableState:t},l.name)),t.activeFilters&&t.activeFilters.length>0&&r.jsx(zt,{}),s&&r.jsx(Pe,{spacing:"xs",children:r.jsx(_o,{tableState:t,availableFilters:e})}),s&&r.jsx(Ue,{onClick:()=>a(!1),color:"orange",variant:"subtle",children:r.jsx(U,{children:f._({id:"dEgA5A"})})}),!s&&t.activeFilters.length<e.length&&r.jsx(Ue,{onClick:()=>a(!0),color:"green",variant:"subtle",children:r.jsx(U,{children:f._({id:"PzFzS+"})})}),!s&&t.activeFilters.length>0&&r.jsx(Ue,{onClick:t.clearActiveFilters,color:"red",variant:"subtle",children:r.jsx(U,{children:f._({id:"J8ECgX"})})})]})})}function qo({onClick:e,tooltip:t,hidden:n}){return{title:f._({id:"euc6Ns"}),color:"green",tooltip:t,onClick:e,icon:r.jsx(Wr,{}),hidden:n}}function Go({onClick:e,tooltip:t,hidden:n}){return{title:f._({id:"ePK91l"}),color:"blue",tooltip:t,onClick:e,icon:r.jsx(Dr,{}),hidden:n}}function Yo({onClick:e,tooltip:t,hidden:n}){return{title:f._({id:"cnGeoo"}),color:"red",tooltip:t,onClick:e,icon:r.jsx(Ot,{}),hidden:n}}function Fo({title:e,actions:t,disabled:n=!1}){function o(d){var u;d==null||d.preventDefault(),d==null||d.stopPropagation(),(u=d==null?void 0:d.nativeEvent)==null||u.stopImmediatePropagation(),a(!s)}const[s,a]=h.useState(!1),l=h.useMemo(()=>t.filter(d=>!d.hidden),[t]);function c(d){return r.jsx(Y,{withinPortal:!0,label:d.tooltip??d.title,children:r.jsx(I.Item,{color:d.color,icon:d.icon,onClick:u=>{var i;u==null||u.preventDefault(),u==null||u.stopPropagation(),(i=u==null?void 0:u.nativeEvent)==null||i.stopImmediatePropagation(),d.onClick?d.onClick():Vt(),a(!1)},disabled:d.disabled||!1,children:d.title})},d.title)}return l.length>0&&r.jsxs(I,{withinPortal:!0,disabled:n,position:"bottom-end",opened:s,onChange:a,children:[r.jsx(I.Target,{children:r.jsx(Y,{withinPortal:!0,label:e||f._({id:"7L01XJ"}),children:r.jsx(te,{onClick:o,disabled:n,variant:"subtle",color:"gray",children:r.jsx(Lr,{})})})}),r.jsx(I.Dropdown,{children:l.map(d=>r.jsx(c,{...d},d.title))})]})}function Oo({searchCallback:e}){const[t,n]=h.useState(""),[o]=Br(t,500);return h.useEffect(()=>{e(o)},[o]),r.jsx(Hr,{value:t,icon:r.jsx(Ur,{}),placeholder:f._({id:"A1taO8"}),onChange:s=>n(s.target.value),rightSection:t.length>0?r.jsx(Ft,{size:"xs",onClick:()=>n("")}):null})}const ot=25,Vo={params:{},noRecordsText:f._({id:"EqGTpW"}),enableDownload:!1,enableFilters:!0,enablePagination:!0,enableRefresh:!0,enableSearch:!0,enableSelection:!1,pageSize:ot,defaultSortColumn:"",printingActions:[],barcodeActions:[],tableFilters:[],tableActions:[],idAccessor:"pk"};function Jo({url:e,tableState:t,columns:n,props:o}){var pe,ge,se,fe,Ae;const{getTableColumnNames:s,setTableColumnNames:a}=tn(),[l,c]=h.useState({}),d=h.useMemo(()=>{var y;return((y=o.tableFilters)==null?void 0:y.map(g=>({...g,label:g.label??l[g.name]??`${g.name}`})))??[]},[o.tableFilters,l]),u=jt({enabled:!1,queryKey:["options",e,t.tableKey],retry:3,queryFn:async()=>He.options(e,{params:i.params}).then(y=>{if(y.status==200){let g={},R=rn(y,"POST",!0)||{};nn(R,(q,Ie)=>{Ie.label&&(g[q]=Ie.label)});const V=t.tableKey.split("-")[0];c(g),a(V)(g)}return null})});h.useEffect(()=>{const y=t.tableKey.split("-")[0],g=s(y);if(Object.keys(g).length>0){c(g);return}u.refetch()},[e,t.tableKey,o.params]);const i=h.useMemo(()=>({...Vo,...o}),[o]),x=n.some(y=>y.switchable??!0),p=h.useCallback(y=>{t.setSelectedRecords(y)},[]),b=h.useMemo(()=>{let y=n.map(g=>{let R=g.hidden??!1;return(g.switchable??!0)&&(R=t.hiddenColumns.includes(g.accessor)),{...g,hidden:R,title:g.title??l[g.accessor]??`${g.accessor}`}});return i.rowActions&&y.push({accessor:"actions",title:"   ",hidden:!1,switchable:!1,width:50,render:g=>{var R;return r.jsx(Fo,{actions:((R=i.rowActions)==null?void 0:R.call(i,g))??[],disabled:t.selectedRecords.length>0})}}),y},[n,l,i.rowActions,i.enableSelection,t.hiddenColumns,t.selectedRecords]);function v(y){let g=[...b],R=g.findIndex(V=>V.accessor==y);R>=0&&R<g.length&&(g[R].hidden=!g[R].hidden),t.setHiddenColumns(g.filter(V=>V.hidden).map(V=>V.accessor))}const[S,k]=h.useState(1),[C,j]=h.useState(!1);h.useEffect(()=>{k(1)},[t.searchTerm]);function P(y=!1){let g={...i.params};if(t.activeFilters&&t.activeFilters.forEach(V=>g[V.name]=V.value),t.searchTerm&&(g.search=t.searchTerm),i.enablePagination&&y){let V=i.pageSize??ot;g.limit=V,g.offset=(S-1)*V}let R=D();return R&&(M.direction=="asc"?g.ordering=R:g.ordering=`-${R}`),g}function F(y){let g=P(!1);g.export=y;let R=He.getUri({url:e,params:g});window.open(R,"_blank")}const[M,O]=h.useState({columnAccessor:i.defaultSortColumn??"",direction:"asc"});function D(){let y=M.columnAccessor;if(y=="")return"";let g=b.find(R=>R.accessor==y);return(g==null?void 0:g.ordering)||y}const[W,_]=h.useState(i.noRecordsText??f._({id:"EqGTpW"})),Q=y=>{k(1),O(y)},J=async()=>{let y=P(!0);return He.get(e,{params:y,timeout:30*1e3}).then(function(g){var R,V;switch(g.status){case 200:_(i.noRecordsText??f._({id:"EqGTpW"}));let q=((R=g.data)==null?void 0:R.results)??g.data??[];return o.dataFormatter&&(q=o.dataFormatter(q)),Array.isArray(q)||(_(f._({id:"3o3AAs"})),q=[]),ne(((V=g.data)==null?void 0:V.count)??q.length),q;case 400:_(f._({id:"UFBeQV"}));break;case 401:_(f._({id:"dA/8If"}));break;case 403:_(f._({id:"7JBW66"}));break;case 404:_(f._({id:"KPx1UV"}));break;default:_(f._({id:"29VNqC"})+": "+g.statusText);break}return[]}).catch(function(g){return _(f._({id:"SlfejT"})+": "+g.message),[]})},{data:X,isFetching:re,refetch:Z}=jt({queryKey:[S,o.params,M.columnAccessor,M.direction,t.tableKey,t.activeFilters,t.searchTerm],queryFn:J,refetchOnWindowFocus:!1,refetchOnMount:!0}),[we,ne]=h.useState(0),oe=h.useCallback(()=>{t.selectedRecords.length!=0&&sn.openConfirmModal({title:f._({id:"QZQ+5V"}),children:r.jsx(Kr,{color:"red",title:f._({id:"3H+5DU"}),children:f._({id:"LYnzbA"})}),labels:{confirm:f._({id:"cnGeoo"}),cancel:f._({id:"dEgA5A"})},confirmProps:{color:"red"},onConfirm:()=>{let y=t.selectedRecords.map(g=>g.pk??g.id);He.delete(e,{data:{items:y}}).then(g=>{Z(),vt({title:f._({id:"WH/5rN"}),message:f._({id:"8rHF9L"}),color:"green"})}).catch(g=>{console.warn(`Bulk delete operation failed at ${e}`),vt({title:f._({id:"SlfejT"}),message:f._({id:"QwkhPB"}),color:"red"})})}})},[t.selectedRecords]);return r.jsxs(r.Fragment,{children:[i.enableFilters&&(d.length??0)>0&&r.jsx(zo,{availableFilters:d,tableState:t,opened:C,onClose:()=>j(!1)}),r.jsxs(Pe,{spacing:"sm",children:[r.jsxs(ee,{position:"apart",children:[r.jsxs(ee,{position:"left",spacing:5,children:[(pe=i.tableActions)==null?void 0:pe.map((y,g)=>r.jsx(h.Fragment,{children:y},g)),(((ge=i.barcodeActions)==null?void 0:ge.length)??0>0)&&r.jsx(It,{icon:r.jsx(Qr,{}),label:f._({id:"v1qpjB"}),tooltip:f._({id:"v1qpjB"}),actions:i.barcodeActions??[]},"barcode-actions"),(((se=i.printingActions)==null?void 0:se.length)??0>0)&&r.jsx(It,{icon:r.jsx(qr,{}),label:f._({id:"inVgrM"}),tooltip:f._({id:"inVgrM"}),actions:i.printingActions??[]},"printing-actions"),(i.enableBulkDelete??!1)&&r.jsx(an,{disabled:t.selectedRecords.length==0,icon:r.jsx(Ot,{}),color:"red",tooltip:f._({id:"QZQ+5V"}),onClick:oe})]},"custom-actions"),r.jsx(Gr,{}),r.jsxs(ee,{position:"right",spacing:5,children:[i.enableSearch&&r.jsx(Oo,{searchCallback:y=>t.setSearchTerm(y)}),i.enableRefresh&&r.jsx(te,{children:r.jsx(Y,{label:f._({id:"8RYNR1"}),children:r.jsx(Yr,{onClick:()=>Z()})})}),x&&r.jsx(Po,{columns:b,onToggleColumn:v}),i.enableFilters&&d.length>0&&r.jsx(Jr,{size:"xs",label:((fe=t.activeFilters)==null?void 0:fe.length)??0,disabled:((Ae=t.activeFilters)==null?void 0:Ae.length)==0,children:r.jsx(te,{children:r.jsx(Y,{label:f._({id:"j2wMlR"}),children:r.jsx(Xr,{onClick:()=>j(!C)})})})}),i.enableDownload&&r.jsx(Ao,{downloadCallback:F},"download-action")]})]}),r.jsxs(L,{pos:"relative",children:[r.jsx(Zr,{visible:u.isLoading||u.isFetching}),r.jsx(Ro,{withBorder:!0,striped:!0,highlightOnHover:!0,loaderVariant:"dots",pinLastColumn:i.rowActions!=null,idAccessor:i.idAccessor,minHeight:300,totalRecords:we,recordsPerPage:i.pageSize??ot,page:S,onPageChange:k,sortStatus:M,onSortStatusChange:Q,selectedRecords:i.enableSelection?t.selectedRecords:void 0,onSelectedRecordsChange:i.enableSelection?p:void 0,rowExpansion:i.rowExpansion,fetching:re,noRecordsText:W,records:X,columns:b,onRowClick:i.onRowClick,defaultColumnProps:{noWrap:!0,textAlignment:"left",cellsStyle:{overflow:"hidden"}}})]})]})]})}export{an as A,Ro as F,Jo as I,Ko as O,Go as R,Ho as S,Yo as a,Qo as b,Uo as c,Fo as d,qo as e,Bo as u};
