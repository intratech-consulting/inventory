import{c as g,p as y,a as p,b as T,n as k,i as m,d as I,j as u,I as P,Q as G,r as N,S as B,C as q,L as H,u as W,e as F,f as K,R as X}from"./vendor-580d7f6a.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const Y="modulepreload",J=function(e){return"/"+e},O={},$=function(r,t,s){if(!t||t.length===0)return r();const a=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=J(o),o in O)return;O[o]=!0;const l=o.endsWith(".css"),S=l?'[rel="stylesheet"]':"";if(!!s)for(let v=a.length-1;v>=0;v--){const w=a[v];if(w.href===o&&(!l||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${S}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Y,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((v,w)=>{f.addEventListener("load",v),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>r()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var c=(e=>(e.api_server_info="",e.user_list="user/",e.user_me="user/me/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_simple_login="email/generate/",e.user_reset="auth/password/reset/",e.user_reset_set="auth/password/reset/confirm/",e.user_sso="auth/social/",e.user_sso_remove="auth/social/:id/disconnect/",e.user_emails="auth/emails/",e.user_email_remove="auth/emails/:id/remove/",e.user_email_verify="auth/emails/:id/verify/",e.user_email_primary="auth/emails/:id/primary/",e.user_logout="auth/logout/",e.user_register="auth/registration/",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.barcode="barcode/",e.news="news/",e.global_status="generic/status/",e.version="version/",e.sso_providers="auth/providers/",e.group_list="user/group/",e.owner_list="user/owner/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_attachment_list="build/attachment/",e.build_line_list="build/line/",e.bom_list="bom/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing_get="part/:id/pricing/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.related_part_list="part/related/",e.part_attachment_list="part/attachment/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.company_attachment_list="company/attachment/",e.supplier_part_list="company/part/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_attachment_list="company/part/manufacturer/attachment/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_location_list="stock/location/",e.stock_location_tree="stock/location/tree/",e.stock_attachment_list="stock/attachment/",e.stock_test_result_list="stock/test/",e.purchase_order_list="order/po/",e.purchase_order_line_list="order/po-line/",e.purchase_order_attachment_list="order/po/attachment/",e.sales_order_list="order/so/",e.sales_order_attachment_list="order/so/attachment/",e.sales_order_shipment_list="order/so/shipment/",e.return_order_list="order/ro/",e.return_order_attachment_list="order/ro/attachment/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:id/activate/",e.plugin_uninstall="plugins/:id/uninstall/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.ui_preference="web/ui_preference/",e))(c||{});const Q={server:null,version:null,instance:null,apiVersion:null,worker_running:null,worker_pending_tasks:null,plugins_enabled:null,plugins_install_disabled:null,active_plugins:[],email_configured:null,debug_mode:null,docker_mode:null,database:null,system_health:null,platform:null,installer:null,target:null,default_locale:null},fe=[{value:0,label:"xs"},{value:25,label:"sm"},{value:50,label:"md"},{value:75,label:"lg"},{value:100,label:"xl"}],ge=g()(y(e=>({server:Q,setServer:r=>e({server:r}),fetchServerApiState:async()=>{await n.get(i(c.api_server_info)).then(r=>{e({server:r.data})}).catch(()=>{console.error("Error fetching server info")}),await n.get(i(c.sso_providers),{headers:{Authorization:""}}).then(r=>{e({auth_settings:r.data})}).catch(()=>{console.error("Error fetching SSO information")})},status:void 0}),{name:"server-api-state",storage:p(()=>sessionStorage)}));function Z(){return"/api/"}function i(e,r,t){let s=e;if(s.startsWith("/")||(s=Z()+s),s&&r&&(s.indexOf(":id")>=0?s=s.replace(":id",`${r}`):s+=`${r}/`),s&&t)for(const a in t)s=s.replace(`:${a}`,`${t[a]}`);return s}const j=g()(y((e,r)=>({autoupdate:!1,toggleAutoupdate:()=>e(t=>({autoupdate:!t.autoupdate})),host:"",setHost:(t,s)=>e({host:t,hostKey:s}),hostKey:"",hostList:{},setHostList:t=>e({hostList:t}),language:"en",setLanguage:t=>e({language:t}),primaryColor:"indigo",whiteColor:"#fff",blackColor:"#000",radius:"xs",loader:"oval",lastUsedPanels:{},setLastUsedPanel:t=>s=>{r().lastUsedPanels[t]!==s&&e({lastUsedPanels:{...r().lastUsedPanels,[t]:s}})},tableColumnNames:{},getTableColumnNames:t=>r().tableColumnNames[t]||{},setTableColumnNames:t=>s=>{e({tableColumnNames:{...r().tableColumnNames,[t]:s}})},clearTableColumnNames:()=>{e({tableColumnNames:{}})}}),{name:"session-settings"}));function C(e){if(e===!0)return!0;if(e===!1)return!1;let r=String(e).trim().toLowerCase();return["true","yes","1","on","t","y"].includes(r)}const M=g((e,r)=>({settings:[],lookup:{},endpoint:c.settings_global_list,fetchSettings:async()=>{_.getState().hasToken()&&await n.get(i(c.settings_global_list)).then(t=>{e({settings:t.data,lookup:x(t.data)})}).catch(t=>{console.error("Error fetching global settings")})},getSetting:(t,s)=>r().lookup[t]??s??"",isSet:(t,s)=>{let a=r().lookup[t]??s??"false";return C(a)}})),E=g((e,r)=>({settings:[],lookup:{},endpoint:c.settings_user_list,fetchSettings:async()=>{_.getState().hasToken()&&await n.get(i(c.settings_user_list)).then(t=>{e({settings:t.data,lookup:x(t.data)})}).catch(t=>{console.error("Error fetching user settings")})},getSetting:(t,s)=>r().lookup[t]??s??"",isSet:(t,s)=>{let a=r().lookup[t]??s??"false";return C(a)}})),de=({plugin:e})=>{const r={plugin:e};return T()((t,s)=>({settings:[],lookup:{},endpoint:c.plugin_setting_list,pathParams:r,fetchSettings:async()=>{await n.get(i(c.plugin_setting_list,void 0,{plugin:e})).then(a=>{const o=a.data;t({settings:o,lookup:x(o)})}).catch(a=>{console.error(`Error fetching plugin settings for plugin ${e}`)})},getSetting:(a,o)=>s().lookup[a]??o??"",isSet:(a,o)=>{let l=s().lookup[a]??o??"false";return C(l)}}))},ke=({machine:e,configType:r})=>{const t={machine:e,config_type:r};return T()((s,a)=>({settings:[],lookup:{},endpoint:c.machine_setting_detail,pathParams:t,fetchSettings:async()=>{await n.get(i(c.machine_setting_list,void 0,{machine:e})).then(o=>{const l=o.data.filter(S=>S.config_type===r);s({settings:l,lookup:x(l)})}).catch(o=>{console.error(`Error fetching machine settings for machine ${e} with type ${r}:`,o)})},getSetting:(o,l)=>a().lookup[o]??l??"",isSet:(o,l)=>{let S=a().lookup[o]??l??"false";return C(S)}}))};function x(e){let r={};for(let t of e)r[t.key]=t.value;return r}var h=(e=>(e.part="part",e.supplierpart="supplierpart",e.manufacturerpart="manufacturerpart",e.partcategory="partcategory",e.partparametertemplate="partparametertemplate",e.parttesttemplate="parttesttemplate",e.projectcode="projectcode",e.stockitem="stockitem",e.stocklocation="stocklocation",e.stockhistory="stockhistory",e.build="build",e.company="company",e.purchaseorder="purchaseorder",e.purchaseorderline="purchaseorderline",e.salesorder="salesorder",e.salesordershipment="salesordershipment",e.returnorder="returnorder",e.address="address",e.contact="contact",e.owner="owner",e.user="user",e))(h||{});const A={BuildStatus:h.build,PurchaseOrderStatus:h.purchaseorder,ReturnOrderLineStatus:h.purchaseorderline,ReturnOrderStatus:h.returnorder,SalesOrderStatus:h.salesorder,StockHistoryCode:h.stockhistory,StockStatus:h.stockitem},Se={dark:"dark",warning:"yellow",success:"green",info:"cyan",danger:"red",default:"gray"},ee=g()(y(e=>({status:void 0,setStatus:r=>e({status:r}),fetchStatus:async()=>{_.getState().hasToken()&&await n.get(i(c.global_status)).then(r=>{const t={};for(const s in r.data)t[A[s]||s]=r.data[s].values;e({status:t})}).catch(()=>{console.error("Error fetching global status information")})}}),{name:"global-status-state",storage:p(()=>sessionStorage)}));var te=(e=>(e.admin="admin",e.build="build",e.part="part",e.part_category="part_category",e.purchase_order="purchase_order",e.return_order="return_order",e.sales_order="sales_order",e.stock="stock",e.stock_location="stock_location",e.stocktake="stocktake",e))(te||{}),b=(e=>(e.view="view",e.add="add",e.change="change",e.delete="delete",e))(b||{});const re=g((e,r)=>({user:void 0,username:()=>{const t=r().user;return t!=null&&t.first_name||t!=null&&t.last_name?`${t.first_name} ${t.last_name}`.trim():(t==null?void 0:t.username)??""},setUser:t=>e({user:t}),fetchUserState:async()=>{_.getState().hasToken()&&(await n.get(i(c.user_me),{timeout:2e3}).then(t=>{var a,o;const s={pk:t.data.pk,first_name:((a=t.data)==null?void 0:a.first_name)??"",last_name:((o=t.data)==null?void 0:o.last_name)??"",email:t.data.email,username:t.data.username};e({user:s})}).catch(t=>{console.error("Error fetching user data")}),await n.get(i(c.user_roles)).then(t=>{var a,o,l;const s=r().user;s&&(s.roles=((a=t.data)==null?void 0:a.roles)??{},s.is_staff=((o=t.data)==null?void 0:o.is_staff)??!1,s.is_superuser=((l=t.data)==null?void 0:l.is_superuser)??!1,e({user:s}))}).catch(t=>{console.error("Error fetching user roles")}))},checkUserRole:(t,s)=>{var o;const a=r().user;return a?a!=null&&a.is_superuser?!0:(a==null?void 0:a.roles)===void 0||(a==null?void 0:a.roles[t])===void 0||(a==null?void 0:a.roles[t])===null?!1:((o=a==null?void 0:a.roles[t])==null?void 0:o.includes(s))??!1:!1},isStaff:()=>{const t=r().user;return(t==null?void 0:t.is_staff)??!1},isSuperuser:()=>{const t=r().user;return(t==null?void 0:t.is_superuser)??!1},hasDeleteRole:t=>r().checkUserRole(t,b.delete),hasChangeRole:t=>r().checkUserRole(t,b.change),hasAddRole:t=>r().checkUserRole(t,b.add),hasViewRole:t=>r().checkUserRole(t,b.view)}));var ae=(e=>(e.Boolean="boolean",e.Integer="integer",e.String="string",e.Choice="choice",e.Model="related field",e))(ae||{});function se(){_.getState().hasToken()&&(L(),re.getState().fetchUserState(),E.getState().fetchSettings(),M.getState().fetchSettings(),ee.getState().fetchStatus())}const _=g()(y((e,r)=>({token:void 0,clearToken:()=>{e({token:void 0})},setToken:t=>{e({token:t}),L(),se()},hasToken:()=>!!r().token}),{name:"session-state",storage:p(()=>sessionStorage)})),D="inventree-web-app",ve=async(e,r)=>{const{host:t}=j.getState();e.length==0||r.length==0||(_.getState().clearToken(),await I.get(i(c.user_token),{auth:{username:e,password:r},baseURL:t,timeout:2e3,params:{name:D}}).then(s=>{s.status==200&&s.data.token&&_.getState().setToken(s.data.token)}).catch(()=>{}))},be=async e=>{await n.post(i(c.user_logout)).catch(()=>{e("/login")}),oe(),_.getState().clearToken(),k.hide("login"),k.show({id:"login",title:m._({id:"Py+E6e"}),message:m._({id:"AOxl9K"}),color:"green",icon:u.jsx(P,{size:"1rem"})}),e("/login")},we=async e=>{const{host:r}=j.getState();return await I.post(i(c.user_simple_login),{email:e},{baseURL:r,timeout:2e3}).then(s=>s.data).catch(s=>!1)};function ye(e,r){n.post(i(c.user_reset),r,{headers:{Authorization:""}}).then(t=>{t.status===200?(k.show({title:m._({id:"XAIcYu"}),message:m._({id:"eX0txO"}),color:"green",autoClose:!1}),e("/login")):k.show({title:m._({id:"WhimMi"}),message:m._({id:"tnaYa/"}),color:"red"})})}function Ne(e,r,t){L();const s=()=>{k.hide("login"),k.show({id:"login",title:m._({id:"bNsW3s"}),message:m._({id:"YLtp/8"}),color:"green",icon:u.jsx(P,{size:"1rem"})}),e(r??"/home")},a=()=>{_.getState().clearToken(),t||e("/login")};_.getState().hasToken()?n.get(i(c.user_me),{timeout:2e3}).then(o=>{o.status===200?s():a()}).catch(()=>{a()}):U()?n.get(i(c.user_token),{params:{name:D}}).then(o=>{o.status==200&&o.data.token?(_.getState().setToken(o.data.token),s()):a()}).catch(()=>{a()}):a()}function U(){var r;return(r=document.cookie.split("; ").find(t=>t.startsWith("csrftoken=")))==null?void 0:r.split("=")[1]}function oe(){document.cookie="csrftoken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}const n=I.create({});function L(){const e=j.getState().host,r=_.getState().token;n.defaults.baseURL=e,n.defaults.timeout=2500,r?n.defaults.headers.common.Authorization=`Token ${r}`:n.defaults.headers.common.Authorization=void 0,U()?(n.defaults.withCredentials=!0,n.defaults.xsrfCookieName="csrftoken",n.defaults.xsrfHeaderName="X-CSRFToken"):(n.defaults.withCredentials=!1,n.defaults.xsrfCookieName=void 0,n.defaults.xsrfHeaderName=void 0)}const Ce=new G;function le(){return u.jsx(B,{children:u.jsx(q,{children:u.jsx(H,{})})})}const R=e=>r=>u.jsx(N.Suspense,{fallback:u.jsx(le,{}),children:u.jsx(e,{...r})});function xe({item:e}){const r=R(e);return u.jsx(r,{})}function ne(){const{height:e,width:r}=W();return r<425||e<425}const ce=R(N.lazy(()=>$(()=>import("./MobileAppView-d3615e74.js"),["assets/MobileAppView-d3615e74.js","assets/vendor-580d7f6a.js","assets/BaseContext-71d55e61.js","assets/links-65930103.js","assets/StylishText-5ee5b946.js"]))),ie=R(N.lazy(()=>$(()=>import("./DesktopAppView-f36ad07f.js").then(e=>e.D),["assets/DesktopAppView-f36ad07f.js","assets/vendor-580d7f6a.js","assets/BaseContext-71d55e61.js"])));function ue(){return N.useEffect(()=>{L()},[]),ne()?u.jsx(ce,{}):u.jsx(ie,{})}const Le=!1,z={}.VITE_DEMO==="true",V=z;let d=window.INVENTREE_SETTINGS||{};Object.keys(d).forEach(e=>{(d[e]===void 0||e==="server_list"&&d[e].length===0)&&delete d[e]});window.INVENTREE_SETTINGS={server_list:{"mantine-cqj63coxn":{host:`${window.location.origin}/`,name:"Current Server"},...V?{"mantine-u56l5jt85":{host:"https://demo.inventree.org/",name:"InvenTree Demo"}}:{}},default_server:z?"mantine-u56l5jt85":"mantine-cqj63coxn",show_server_selector:V,...d};window.INVENTREE_SETTINGS.sentry_dsn&&(console.log("Sentry enabled"),F({dsn:window.INVENTREE_SETTINGS.sentry_dsn,tracesSampleRate:1,environment:window.INVENTREE_SETTINGS.environment||"default"}));const _e=window.INVENTREE_SETTINGS.base_url||"platform";K.createRoot(document.getElementById("root")).render(u.jsx(X.StrictMode,{children:u.jsx(ue,{})}));window.location.pathname==="/"&&window.location.replace(`/${_e}`);export{c as A,V as I,R as L,h as M,fe as S,te as U,$ as _,re as a,M as b,E as c,_ as d,_e as e,ge as f,n as g,se as h,i,be as j,ee as k,Se as l,xe as m,C as n,Le as o,ae as p,Ce as q,de as r,ke as s,ve as t,j as u,we as v,Ne as w,L as x,ye as y};
