import{r as o,i as s,j as a}from"./vendor-580d7f6a.js";import{A as _}from"./AddItemButton-9bde5586.js";import{T as b}from"./Instance-4f17d9b0.js";import{a as T,M as t,A as m,U as F,i as R}from"./index-539d0685.js";import{p as g}from"./PurchaseOrderForms-075e7f87.js";import{g as c}from"./urls-9eea01e5.js";import{a as x}from"./UseForm-5e9a21d6.js";import{u as A,S as O,O as U,b as j,c as M,I as P}from"./InvenTreeTable-7dffc519.js";import{R as S,D as k,a as D,S as I,b as v,C as E,T as X,c as q,d as w}from"./ColumnRenderers-c7f5177c.js";import{u as y}from"./DesktopAppView-f36ad07f.js";function K({supplierId:i,supplierPartId:d}){const l=y(),n=A("purchase-order"),u=T(),f=o.useMemo(()=>[{name:"status",label:s._({id:"uAQUqI"}),description:s._({id:"OIH7WF"}),choiceFunction:O(t.purchaseorder)},U(),j(),M()],[]),h=o.useMemo(()=>[S(),k({}),{accessor:"supplier__name",title:s._({id:"PYTEl0"}),sortable:!0,render:function(e){let r=e.supplier_detail??{};return a.jsx(b,{src:r==null?void 0:r.image,alt:r.name,text:r.name})}},{accessor:"supplier_reference"},D(),I(t.purchaseorder),v(),E(),X(),q(),w()],[]),p=x({url:m.purchase_order_list,title:s._({id:"XRoR1U"}),fields:g(),initialData:{supplier:i},onFormSuccess:e=>{e.pk?l(c(t.purchaseorder,e.pk)):n.refreshTable()}}),C=o.useMemo(()=>[a.jsx(_,{tooltip:s._({id:"XRoR1U"}),onClick:()=>p.open(),hidden:!u.hasAddRole(F.purchase_order)})],[u]);return a.jsxs(a.Fragment,{children:[p.modal,a.jsx(P,{url:R(m.purchase_order_list),tableState:n,columns:h,props:{params:{supplier_detail:!0,supplier:i,supplier_part:d},tableFilters:f,tableActions:C,onRowClick:e=>{e.pk&&l(c(t.purchaseorder,e.pk))}}})]})}export{K as P};
