import{r as i,x}from"./vendor-580d7f6a.js";import{i as I,g as q}from"./index-539d0685.js";function Q({endpoint:s,pk:t,params:c={},defaultValue:e={},pathParams:o,hasPrimaryKey:l=!0,refetchOnMount:f=!0,refetchOnWindowFocus:h=!1,throwError:y=!1}){const[g,r]=i.useState(e),a=x({queryKey:["instance",s,t,c],queryFn:async()=>{if(l&&(t==null||t==null||t.length==0||t=="-1"))return r(e),null;const u=I(s,t,o);return q.get(u,{timeout:1e4,params:c}).then(n=>{switch(n.status){case 200:return r(n.data),n.data;default:return r(e),null}}).catch(n=>{if(r(e),console.error(`Error fetching instance ${u}:`,n),y)throw n;return null})},refetchOnMount:f,refetchOnWindowFocus:h}),m=i.useCallback(function(){a.refetch()},[]);return{instance:g,refreshInstance:m,instanceQuery:a}}export{Q as u};
