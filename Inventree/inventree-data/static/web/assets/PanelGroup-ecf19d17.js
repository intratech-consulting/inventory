import{j as s,r as l,ap as P,at as x,ag as v,$ as g,c9 as L,ca as S,S as y,D as I}from"./vendor-580d7f6a.js";import{u as j}from"./index-539d0685.js";import{a as E}from"./Placeholder-f60056df.js";import{S as C}from"./StylishText-5ee5b946.js";import{R,c as h,u as T,a as U,b as k}from"./DesktopAppView-f36ad07f.js";function w({pageKey:n,panels:i,onPanelChange:o,selectedPanel:r,collapsible:m=!0}){const d=T(),{panel:a}=U(),c=l.useMemo(()=>i.filter(e=>!e.hidden&&!e.disabled),[i]),t=j(e=>e.setLastUsedPanel(n));l.useEffect(()=>{a&&t(a)},[t]);function f(e){if(c.findIndex(p=>p.name===e)===-1)return t(""),d("../");d(`../${e}`),o&&o(e)}l.useEffect(()=>{r&&r!==a&&f(r)},[r,a]),l.useEffect(()=>{if(c.findIndex(e=>e.name===a)===-1)return t(""),d("../")},[c,a]);const[u,b]=l.useState(!0);return s.jsx(P,{p:"sm",radius:"xs",shadow:"xs",children:s.jsxs(x,{value:a,orientation:"vertical",onTabChange:f,keepMounted:!1,children:[s.jsxs(x.List,{position:"left",children:[i.map(e=>!e.hidden&&s.jsx(v,{label:e.label,disabled:u,children:s.jsx(x.Tab,{p:"xs",value:e.name,icon:e.icon,hidden:e.hidden,children:u&&e.label})},e.name)),m&&s.jsx(g,{style:{paddingLeft:"10px"},onClick:()=>b(!u),children:u?s.jsx(L,{opacity:.5}):s.jsx(S,{opacity:.5})})]}),i.map(e=>!e.hidden&&s.jsx(x.Panel,{value:e.name,p:"sm",style:{overflowX:"scroll",width:"100%"},children:s.jsxs(y,{spacing:"md",children:[s.jsx(C,{size:"xl",children:e.label}),s.jsx(I,{}),e.content??s.jsx(E,{})]})},e.name))]})})}function N({pageKey:n,selectedPanel:i,panels:o}){const r=j(m=>{var a,c;const d=i||m.lastUsedPanels[n]||((a=o[0])==null?void 0:a.name);return o.findIndex(t=>t.name===d&&!t.disabled&&!t.hidden)===-1?(c=o[0])==null?void 0:c.name:d});return s.jsx(k,{to:r,replace:!0})}function A(n){return s.jsxs(R,{children:[s.jsx(h,{index:!0,element:s.jsx(N,{...n})}),s.jsx(h,{path:"/:panel/*",element:s.jsx(w,{...n})})]})}export{A as P};
