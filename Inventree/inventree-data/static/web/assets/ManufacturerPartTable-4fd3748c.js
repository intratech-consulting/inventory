import{r,j as u,i as t}from"./vendor-580d7f6a.js";import{A as b}from"./AddItemButton-9bde5586.js";import{T as h}from"./Instance-4f17d9b0.js";import{a as k,U as i,A as l,i as M,M as C}from"./index-539d0685.js";import{u as A}from"./CompanyForms-f616143f.js";import{a as R,b as T}from"./ApiForm-173d0ec5.js";import{n as g}from"./notifications-b554622d.js";import{g as x}from"./urls-9eea01e5.js";import{u as F,R as j,a as D,I as P}from"./InvenTreeTable-7dffc519.js";import{P as E,D as S,L as w}from"./ColumnRenderers-c7f5177c.js";import{u as U}from"./DesktopAppView-f36ad07f.js";function V({params:n}){const o=F("manufacturerparts"),a=k(),m=U(),p=r.useMemo(()=>[{accessor:"part",switchable:"part"in n,sortable:!0,render:e=>E(e==null?void 0:e.part_detail)},{accessor:"manufacturer",sortable:!0,render:e=>{let s=(e==null?void 0:e.manufacturer_detail)??{};return u.jsx(h,{src:(s==null?void 0:s.thumbnail)??s.image,text:s.name})}},{accessor:"MPN",title:t._({id:"ZCCuT2"}),sortable:!0},S({}),w()],[n]),c=r.useCallback(()=>{g()},[]),f=r.useMemo(()=>{let e=a.hasAddRole(i.purchase_order)&&a.hasAddRole(i.part);return[u.jsx(b,{tooltip:t._({id:"uOeMYf"}),onClick:c,hidden:!e})]},[a]),d=A(),_=r.useCallback(e=>[j({hidden:!a.hasChangeRole(i.purchase_order),onClick:()=>{e.pk&&R({url:l.manufacturer_part_list,pk:e.pk,title:t._({id:"b30yxS"}),fields:d,onFormSuccess:o.refreshTable,successMessage:t._({id:"zVjqeS"})})}}),D({hidden:!a.hasDeleteRole(i.purchase_order),onClick:()=>{e.pk&&T({url:l.manufacturer_part_list,pk:e.pk,title:t._({id:"fMDrRl"}),successMessage:t._({id:"E1B18F"}),onFormSuccess:o.refreshTable,preFormWarning:t._({id:"Gk8NFj"})})}})],[a]);return u.jsx(P,{url:M(l.manufacturer_part_list),tableState:o,columns:p,props:{params:{...n,part_detail:!0,manufacturer_detail:!0},rowActions:_,tableActions:f,onRowClick:e=>{e!=null&&e.pk&&m(x(C.manufacturerpart,e.pk))}}})}export{V as M};
