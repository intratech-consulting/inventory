import{x as u,j as e,ac as p,G as o,b$ as h,i as m,S as x,m as f,h as j,a4 as g,cR as y}from"./vendor-580d7f6a.js";import{m as k}from"./index.es-6e6e8db2.js";import{g as S,i as v,A as w}from"./index-539d0685.js";import{S as I}from"./StylishText-5ee5b946.js";import{u as b}from"./DesktopAppView-f36ad07f.js";function C({opened:s,onClose:i,selectedLocation:n}){const c=b(),a=u({enabled:s,queryKey:["stock_location_tree",s],queryFn:async()=>S.get(v(w.stock_location_tree),{}).then(t=>t.data.map(r=>({id:r.pk,label:r.name,parentId:r.parent,children:r.sublocations}))).catch(t=>(console.error("Error fetching stock location tree:",t),t)),refetchOnMount:!0});function d({node:t}){return e.jsx(o,{position:"apart",noWrap:!0,onClick:()=>{i(),c(`/stock/location/${t.id}`)},children:e.jsx(j,{children:t.label})},t.id)}function l({node:t,open:r}){if(t.children!=0)return r?e.jsx(g,{}):e.jsx(y,{})}return e.jsx(p,{opened:s,size:"md",position:"left",onClose:i,withCloseButton:!0,styles:{header:{width:"100%"},title:{width:"100%"}},title:e.jsxs(o,{position:"left",noWrap:!0,spacing:"md",p:"md",children:[e.jsx(h,{}),e.jsx(I,{size:"lg",children:m._({id:"1eBWAw"})})]}),children:e.jsxs(x,{spacing:"xs",children:[e.jsx(f,{visible:a.isFetching}),e.jsx(k,{nodes:a.data??[],showEmptyItems:!1,RenderNode:d,RenderIcon:l,defaultSelectedNodes:n?[n]:[]})]})})}export{C as S};
