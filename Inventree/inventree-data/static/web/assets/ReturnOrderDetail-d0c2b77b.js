import{r as d,j as e,a3 as j,i as t,b7 as o,ay as f,bt as h,bf as g,bg as k,S as I,m as P}from"./vendor-580d7f6a.js";import{I as A,D as a}from"./ItemDetails-8f9834aa.js";import{D,N as F}from"./MarkdownEditor-8fcb1f1c.js";import{P as U}from"./PageDetail-e83b8dc6.js";import{P as C}from"./PanelGroup-ecf19d17.js";import{A as i,M as l,U as E,i as N}from"./index-539d0685.js";import{u as S}from"./UseInstance-05463349.js";import{A as v}from"./AttachmentTable-3bae0b2b.js";import{a as w}from"./DesktopAppView-f36ad07f.js";import"./urls-9eea01e5.js";import"./ModelType-07300e1e.js";import"./ProgressBar-f667695e.js";import"./YesNoButton-cd4c504e.js";import"./Instance-4f17d9b0.js";import"./BaseContext-71d55e61.js";import"./InvenTreeTable-7dffc519.js";import"./notifications-b554622d.js";import"./ApiForm-173d0ec5.js";import"./StylishText-5ee5b946.js";import"./Placeholder-f60056df.js";function te(){var m;const{id:s}=w(),{instance:r,instanceQuery:n}=S({endpoint:i.return_order_list,pk:s,params:{customer_detail:!0}}),c=d.useMemo(()=>{var p;if(n.isFetching)return e.jsx(j,{});let _=[{type:"text",name:"reference",label:t._({id:"N2C89m"}),copy:!0},{type:"text",name:"customer_reference",label:t._({id:"ZVUe1A"}),copy:!0,hidden:!r.customer_reference},{type:"link",name:"customer",icon:"customers",label:t._({id:"876pfE"}),model:l.company},{type:"text",name:"description",label:t._({id:"Nu4oKW"}),copy:!0},{type:"status",name:"status",label:t._({id:"uAQUqI"}),model:l.salesorder}],x=[{type:"text",name:"line_items",label:t._({id:"SgduFH"}),icon:"list"},{type:"progressbar",name:"completed",icon:"progress",label:t._({id:"qgs95u"}),total:r.line_items,progress:r.completed_lines},{type:"progressbar",name:"shipments",icon:"shipment",label:t._({id:"polrQd"}),total:r.shipments,progress:r.completed_shipments},{type:"text",name:"currency",label:t._({id:"9j2hXW"})},{type:"text",name:"total_cost",label:t._({id:"A6C0pv"})}],b=[{type:"link",external:!0,name:"link",label:t._({id:"yzF66j"}),copy:!0,hidden:!r.link},{type:"link",model:l.contact,link:!1,name:"contact",label:t._({id:"jfC/xh"}),icon:"user",copy:!0}],y=[{type:"text",name:"creation_date",label:t._({id:"x9P/+F"}),icon:"calendar"},{type:"text",name:"target_date",label:t._({id:"ZmykKo"}),icon:"calendar",hidden:!r.target_date},{type:"text",name:"responsible",label:t._({id:"XQACoK"}),badge:"owner",hidden:!r.responsible}];return e.jsxs(A,{children:[e.jsxs(o,{children:[e.jsx(o.Col,{span:4,children:e.jsx(D,{appRole:E.purchase_order,apiPath:i.company_list,src:(p=r.customer_detail)==null?void 0:p.image,pk:r.customer})}),e.jsx(o.Col,{span:8,children:e.jsx(a,{fields:_,item:r})})]}),e.jsx(a,{fields:x,item:r}),e.jsx(a,{fields:b,item:r}),e.jsx(a,{fields:y,item:r})]})},[r,n]),u=d.useMemo(()=>[{name:"detail",label:t._({id:"Tol4BF"}),icon:e.jsx(f,{}),content:c},{name:"line-items",label:t._({id:"SgduFH"}),icon:e.jsx(h,{})},{name:"attachments",label:t._({id:"w/Sphq"}),icon:e.jsx(g,{}),content:e.jsx(v,{endpoint:i.return_order_attachment_list,model:"order",pk:Number(s)})},{name:"notes",label:t._({id:"1DBGsz"}),icon:e.jsx(k,{}),content:e.jsx(F,{url:N(i.return_order_list,s),data:r.notes??"",allowEdit:!0})}],[r,s]);return e.jsx(e.Fragment,{children:e.jsxs(I,{spacing:"xs",children:[e.jsx(P,{visible:n.isFetching}),e.jsx(U,{title:t._({id:"Z6ve1w"})+`: ${r.reference}`,subtitle:r.description,imageUrl:(m=r.customer_detail)==null?void 0:m.image,breadcrumbs:[{name:t._({id:"mUv9U4"}),url:"/sales/"}]}),e.jsx(C,{pageKey:"returnorder",panels:u})]})})}export{te as default};
