import{r as n,i as a,j as t,ay as b,bt as f,a3 as d,b9 as h,bf as x,S as k,m as j}from"./vendor-580d7f6a.js";import{P as g}from"./PageDetail-e83b8dc6.js";import{P as S}from"./PanelGroup-ecf19d17.js";import{a as A,U as _,A as i,i as F}from"./index-539d0685.js";import{u as M}from"./UseInstance-05463349.js";import{A as I}from"./AttachmentTable-3bae0b2b.js";import{b as R}from"./CompanyForms-f616143f.js";import{a as T,b as w}from"./ApiForm-173d0ec5.js";import{u as y,R as C,a as U,I as D}from"./InvenTreeTable-7dffc519.js";import{S as v}from"./SupplierPartTable-5f41232e.js";import{a as E}from"./DesktopAppView-f36ad07f.js";import"./Instance-4f17d9b0.js";import"./StylishText-5ee5b946.js";import"./Placeholder-f60056df.js";import"./BaseContext-71d55e61.js";import"./notifications-b554622d.js";import"./AddItemButton-9bde5586.js";import"./urls-9eea01e5.js";import"./ModelType-07300e1e.js";import"./UseForm-5e9a21d6.js";import"./ColumnRenderers-c7f5177c.js";import"./ProgressBar-f667695e.js";import"./YesNoButton-cd4c504e.js";function P({params:p}){const e=y("manufacturer-part-parameter"),r=A(),l=n.useMemo(()=>[{accessor:"name",title:a._({id:"6YtxFj"}),sortable:!0,switchable:!1},{accessor:"value",title:a._({id:"wMHvYH"}),sortable:!0,switchable:!1},{accessor:"units",title:a._({id:"QrhaVg"}),sortable:!1,switchable:!0}],[]),m=R(),o=n.useCallback(s=>[C({hidden:!r.hasChangeRole(_.purchase_order),onClick:()=>{T({url:i.manufacturer_part_parameter_list,pk:s.pk,title:a._({id:"FDjidN"}),fields:m,onFormSuccess:e.refreshTable,successMessage:a._({id:"SaV/l6"})})}}),U({hidden:!r.hasDeleteRole(_.purchase_order),onClick:()=>{s.pk&&w({url:i.manufacturer_part_parameter_list,pk:s.pk,title:a._({id:"qSo+g1"}),onFormSuccess:e.refreshTable,successMessage:a._({id:"YAbfek"}),preFormWarning:a._({id:"0Agsuf"})})}})],[r]);return t.jsx(D,{url:F(i.manufacturer_part_parameter_list),tableState:e,columns:l,props:{params:{...p},rowActions:o}})}function oe(){var o,s;const{id:p}=E(),{instance:e,instanceQuery:r}=M({endpoint:i.manufacturer_part_list,pk:p,hasPrimaryKey:!0,params:{part_detail:!0,manufacturer_detail:!0}}),l=n.useMemo(()=>[{name:"details",label:a._({id:"URmyfc"}),icon:t.jsx(b,{})},{name:"parameters",label:a._({id:"F18WP3"}),icon:t.jsx(f,{}),content:e!=null&&e.pk?t.jsx(P,{params:{manufacturer_part:e.pk}}):t.jsx(d,{})},{name:"suppliers",label:a._({id:"9RecCt"}),icon:t.jsx(h,{}),content:e!=null&&e.pk?t.jsx(v,{params:{manufacturer_part:e.pk}}):t.jsx(d,{})},{name:"attachments",label:a._({id:"w/Sphq"}),icon:t.jsx(x,{}),content:t.jsx(I,{endpoint:i.manufacturer_part_attachment_list,model:"manufacturer_part",pk:e==null?void 0:e.pk})}],[e]),m=n.useMemo(()=>{var c,u;return[{name:a._({id:"UOTpFa"}),url:"/purchasing/"},{name:((c=e==null?void 0:e.manufacturer_detail)==null?void 0:c.name)??a._({id:"+m9/3S"}),url:`/purchasing/manufacturer/${(u=e==null?void 0:e.manufacturer_detail)==null?void 0:u.pk}/`}]},[e]);return t.jsxs(k,{spacing:"xs",children:[t.jsx(j,{visible:r.isFetching}),t.jsx(g,{title:a._({id:"WssheI"}),subtitle:`${e.MPN} - ${(o=e.part_detail)==null?void 0:o.name}`,breadcrumbs:m,imageUrl:(s=e==null?void 0:e.part_detail)==null?void 0:s.thumbnail}),t.jsx(S,{pageKey:"manufacturerpart",panels:l})]})}export{oe as default};
